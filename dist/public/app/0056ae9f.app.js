"use strict";angular.module("WordRiverApp",["ngCookies","ngResource","ngSanitize","btford.socket-io","ui.router","ui.bootstrap"]).config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider",function(a,b,c,d){b.otherwise("/"),c.html5Mode(!0),d.interceptors.push("authInterceptor")}]).factory("authInterceptor",["$rootScope","$q","$cookieStore","$location",function(a,b,c,d){return{request:function(a){return a.headers=a.headers||{},c.get("token")&&(a.headers.Authorization="Bearer "+c.get("token")),a},responseError:function(a){return 401===a.status?(d.path("/login"),c.remove("token"),b.reject(a)):b.reject(a)}}}]).run(["$rootScope","$location","Auth",function(a,b,c){a.$on("$stateChangeStart",function(a,d){c.isLoggedInAsync(function(a){d.authenticate&&!a&&b.path("/login")})})}]),angular.module("WordRiverApp").config(["$stateProvider",function(a){a.state("login",{url:"/login",templateUrl:"app/account/login/login.html",controller:"LoginCtrl"}).state("signup",{url:"/signup",templateUrl:"app/account/signup/signup.html",controller:"SignupCtrl"}).state("settings",{url:"/settings",templateUrl:"app/account/settings/settings.html",controller:"SettingsCtrl",authenticate:!0})}]),angular.module("WordRiverApp").controller("LoginCtrl",["$scope","Auth","$location",function(a,b,c){a.user={email:"rosemariemaxwell@plexia.com",password:"joethe"},a.errors={},a.login=function(d){a.submitted=!0,d.$valid&&b.login({email:a.user.email,password:a.user.password}).then(function(){c.path("/")})["catch"](function(b){a.errors.other=b.message})}}]),angular.module("WordRiverApp").controller("SettingsCtrl",["$scope","User","Auth",function(a,b,c){a.errors={},a.backgroundImage={background:"url(assets/images/bb914121.river.jpg) no-repeat center","background-attachment":"scroll"},a.changePassword=function(b){a.submitted=!0,b.$valid&&c.changePassword(a.user.oldPassword,a.user.newPassword).then(function(){a.message="Password successfully changed."})["catch"](function(){b.password.$setValidity("mongoose",!1),a.errors.other="Incorrect password",a.message=""})}}]),angular.module("WordRiverApp").controller("SignupCtrl",["$scope","Auth","$location",function(a,b,c){a.user={},a.errors={},a.register=function(d){a.submitted=!0,d.$valid&&b.createUser({name:a.user.name,email:a.user.email,password:a.user.password}).then(function(){c.path("/")})["catch"](function(b){b=b.data,a.errors={},angular.forEach(b.errors,function(b,c){d[c].$setValidity("mongoose",!1),a.errors[c]=b.message})})}}]),angular.module("WordRiverApp").controller("AdminCtrl",["$scope","$http","Auth","User",function(a,b,c,d){a.users=d.query(),a["delete"]=function(b){d.remove({id:b._id}),angular.forEach(a.users,function(c,d){c===b&&a.users.splice(d,1)})}}]),angular.module("WordRiverApp").config(["$stateProvider",function(a){a.state("admin",{url:"/admin",templateUrl:"app/admin/admin.html",controller:"AdminCtrl"})}]),angular.module("WordRiverApp").controller("HomeCtrl",["$scope","$rootScope","Auth","$location",function(a,b,c,d){a.user={email:"rosemariemaxwell@plexia.com",password:"joethe"},a.errors={},a.logInShow=!0,a.loggedIn=c.isLoggedIn(),a.signUpShow=!1,a.signedInShow=!1,a.buttonsShow=!0,a.changePasswordShow=!1,a.getCurrentUser=c.getCurrentUser,a.backgroundImage={background:"url(assets/images/bb914121.river.jpg) no-repeat center","background-attachment":"scroll"},a.checkChangePassword=function(){var b=d.absUrl().split("=");"true"==b[1]&&(a.changePasswordShow=!0,a.signedInShow=!1,a.buttonsShow=!1,a.logInShow=!1,a.signUpShow=!1)},a.login=function(b){a.submitted=!0,b.$valid&&c.login({email:a.user.email,password:a.user.password}).then(function(){a.signedInShow=!0,a.buttonsShow=!1,a.logInShow=!1,a.signUpShow=!1,d.path("/")})["catch"](function(b){a.errors.other=b.message,d.path("/")})},a.register=function(b){a.submitted=!0,b.$valid&&c.createUser({name:a.user.name,email:a.user.email,password:a.user.password}).then(function(){a.signedInShow=!0,a.buttonsShow=!1,a.logInShow=!1,a.signUpShow=!1,d.path("/")})["catch"](function(c){c=c.data,a.errors={},angular.forEach(c.errors,function(c,d){b[d].$setValidity("mongoose",!1),a.errors[d]=c.message})})},a.checkedLoggedIn=function(){a.loggedIn?(a.signedInShow=!0,a.buttonsShow=!1,a.logInShow=!1,a.signUpShow=!1):(a.logInShow=!0,a.signUpShow=!1,a.signedInShow=!1,a.buttonsShow=!0)},a.checkedLoggedIn(),a.checkChangePassword(),a.changePassword=function(b){a.submitted=!0,b.$valid&&c.changePassword(a.user.oldPassword,a.user.newPassword).then(function(){a.message="Password successfully changed."})["catch"](function(){b.password.$setValidity("mongoose",!1),a.errors.other="Incorrect password",a.message=""})}}]),angular.module("WordRiverApp").config(["$stateProvider",function(a){a.state("home",{url:"/",templateUrl:"app/home/home.html",controller:"HomeCtrl"})}]),angular.module("WordRiverApp").controller("MyClassesCtrl",["$scope","$location","$http","Auth",function(a,b,c,d){a.currentUser=d.getCurrentUser(),a.inArray=function(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return!0;return!1},a.classArray=[],a.userStudents=[],a.wordsArray=[],a.wordsHolder=[],a.getClasses=function(){c.get("/api/users/me").success(function(b){a.classArray=[],a.classArray=b.classList})},a.getStudents=function(){a.userStudents=[],c.get("/api/students").success(function(b){for(var c=0;c<b.length;c++)a.inArray(b[c].teachers,a.currentUser._id)&&-1==a.userStudents.indexOf(b[c])&&a.userStudents.push(b[c])})},a.getWords=function(){a.wordsArray=[],c.get("/api/words/").success(function(b){for(var c=0;c<b.length;c++)0==b[c].userCreated?-1==a.wordsArray.indexOf(b[c])&&a.wordsArray.push(b[c]):-1!=a.currentUser.words.indexOf(b[c]._id)&&-1==a.wordsArray.indexOf(b[c])&&a.wordsArray.push(b[c]);console.log("Got words!")})},a.getWordsStudentsClasses=function(){a.getClasses(),a.getStudents(),a.getWords()},a.getWordsStudentsClasses(),a.wordPacksHolder=[],a.wordPacksArray=[],a.getWordPacks=function(){a.wordPacksHolder=[],a.wordPacksArray=[],a.wordPacksHolderIDs=[],c.get("/api/wordPacks/").success(function(b){for(var c=0;c<b.length;c++){for(var d=0;d<a.wordPacksHolder.length;d++)a.wordPacksHolderIDs.push(a.wordPacksHolder[d]._id);b[c].creatorID==a.currentUser._id&&(-1==a.wordPacksArray.indexOf(b[c])&&a.wordPacksArray.push(b[c]),-1==a.wordPacksHolderIDs.indexOf(b[c]._id)&&a.wordPacksHolder.push({_id:b[c]._id,name:b[c].name,words:a.getWordsFromWordIDs(b[c].words),inContext:!1}))}console.log("Got word packs!")})},a.getWordsFromWordIDs=function(b){for(var c=[],d=[],e=0;e<a.wordsArray.length;e++)for(var f=0;f<b.length;f++)if(a.wordsArray[e]._id==b[f]){for(var g=0;g<c.length;g++)d.push(c[g]._id);-1==d.indexOf(a.wordsArray[e]._id)&&c.push({_id:a.wordsArray[e]._id,name:a.wordsArray[e].name,wordType:a.wordsArray[e].wordType})}return c},a.getWordPacks(),a.contextPacksHolder=[],a.contextPacksHolderNotGroup=[],a.contextPacksArray=[],a.getContextPacks=function(){a.contextPacksHolder=[],a.contextPacksArray=[],a.contextPacksHolderIDs=[],c.get("/api/contextPacks/").success(function(b){for(var c=0;c<b.length;c++){for(var d=0;d<a.contextPacksHolder.length;d++)a.contextPacksHolderIDs.push(a.contextPacksHolder[d]._id);b[c].creatorID==a.currentUser._id&&(-1==a.contextPacksArray.indexOf(b[c])&&a.contextPacksArray.push(b[c]),-1==a.contextPacksHolderIDs.indexOf(b[c]._id)&&a.contextPacksHolder.push({_id:b[c]._id,name:b[c].name,wordPacks:a.getWordPacksFromWordPackIDs(b[c].wordPacks)}))}console.log("Got context packs!")})},a.getWordPacksFromWordPackIDs=function(b){for(var c=[],d=0;d<a.wordPacksHolder.length;d++)for(var e=0;e<b.length;e++)a.wordPacksHolder[d]._id==b[e]&&-1==c.indexOf(a.wordPacksHolder[d])&&(a.wordPacksHolder[d].inContext=!0,c.push(a.wordPacksHolder[d]));return c},a.getContextPacks(),a.isGroupsCollapsed=!1,a.hideEdit=!0,a.classToEdit=null,a.editField="",a.hideGroupEdit=!0,a.groupEditField="",a.currentGroupClass=null,a.studentsInClass=[],a.currentContextPack=null,a.currentGroup=null,a.studentsInGroup=[],a.studentsNotInGroup=[],a.wordIDsInGroup=[],a.wordPackIDsInGroup=[],a.allWordsInGroup=[],a.indivWordsInGroup=[],a.wordsNotInGroup=[],a.allWordPacksInGroup=[],a.allWordPacksNotInGroup=[],a.indivWordPacksInGroup=[],a.indivWordPacksNotInGroup=[],a.wordsInWordPack=[],a.currentWordPack=null,a.headerTitle="My Classes",a.viewClassInfo=!0,a.viewGroupInfo=!1,a.viewStudents=!1,a.wpIsCollapsed=!1,a.toggleClassGroup=function(b){"class"==b?(a.headerTitle="My Classes",a.viewClassInfo=!0,a.viewGroupInfo=!1,a.viewStudents=!1,a.viewGroupItems("off")):"group"==b&&(a.headerTitle=a.currentGroup.groupName,a.viewClassInfo=!1,a.viewGroupInfo=!0,a.viewStudents=!0)},a.showWordPackSort=!1,a.showWordSort=!1,a.viewWordPackWords=!1,a.viewAddWord=!1,a.viewEditWord=!1,a.viewGroupItems=function(b){"wordPacks"==b?(a.showWordPackSort=!0,a.showWordSort=!1,a.wordFilter("off"),a.wordPackFilter("contextPacks"),a.viewEditWordPacks=!1,a.toggleStudentInfo("off"),a.viewAddWord=!1,a.viewEditWord=!1):"words"==b?(a.showWordPackSort=!1,a.showWordSort=!0,a.wordFilter("all"),a.wordPackFilter("off"),a.viewEditWordPacks=!1,a.toggleStudentInfo("off"),a.viewAddWord=!1,a.viewEditWord=!1):"off"==b&&(a.showWordPackSort=!1,a.showWordSort=!1,a.wordFilter("off"),a.wordPackFilter("off"),a.viewEditWordPacks=!1,a.toggleStudentInfo("off"),a.viewAddWord=!1,a.viewEditWord=!1)},a.viewAddStudents=!1,a.viewEditStudents=!1,a.toggleStudentInfo=function(b){"add"==b?(a.viewAddStudents=!0,a.viewEditStudents=!1,a.wordFilter("off"),a.wordPackFilter("off")):"edit"==b?(a.viewAddStudents=!1,a.viewEditStudents=!0,a.wordFilter("off"),a.wordPackFilter("off")):"off"==b&&(a.viewAddStudents=!1,a.viewEditStudents=!1)},a.viewContextPacks=!1,a.viewIndivWordPacks=!1,a.viewAllWordPacks=!1,a.wordPackFilter=function(b){"contextPacks"==b?(a.viewContextPacks=!0,a.viewIndivWordPacks=!1,a.viewAllWordPacks=!1,a.viewWordPackWords=!1,a.viewEditWordPacks=!1,a.toggleWordPackAddGroup("off"),a.toggleStudentInfo("off"),a.toggleWPinCP("open")):"individual"==b?(a.viewContextPacks=!1,a.viewIndivWordPacks=!0,a.viewAllWordPacks=!1,a.viewWordPackWords=!1,a.viewEditWordPacks=!1,a.toggleWordPackAddGroup("off"),a.toggleStudentInfo("off"),a.toggleWPinCP("open")):"all"==b?(a.viewContextPacks=!1,a.viewIndivWordPacks=!1,a.viewAllWordPacks=!0,a.viewWordPackWords=!1,a.viewEditWordPacks=!1,a.toggleWordPackAddGroup("off"),a.toggleStudentInfo("off"),a.toggleWPinCP("open")):"off"==b&&(a.viewContextPacks=!1,a.viewIndivWordPacks=!1,a.viewAllWordPacks=!1,a.viewWordPackWords=!1,a.toggleWPinCP("open"),a.toggleWordPackAddGroup("off"))},a.viewAllWords=!1,a.viewIndivWords=!1,a.wordFilter=function(b){"individual"==b?(a.viewAllWords=!1,a.viewIndivWords=!0,a.viewWordPackWords=!1,a.toggleStudentInfo("off")):"all"==b?(a.viewAllWords=!0,a.viewIndivWords=!1,a.viewWordPackWords=!1,a.toggleStudentInfo("off")):"off"==b&&(a.viewAllWords=!1,a.viewIndivWords=!1,a.viewWordPackWords=!1,a.wpIsCollapsed=!1,a.viewAddWord=!1,a.viewEditWord=!1)},a.viewAddWordPacks=!1,a.viewAddAllWordPacks=!1,a.viewAddIndivWordPacks=!1,a.viewAddContextWordPacks=!1,a.viewEditWordPacks=!1,a.toggleWordPackAddGroup=function(b){"all"==b?(a.viewAddWordPacks=!0,a.viewAddAllWordPacks=!0,a.viewAddIndivWordPacks=!1,a.viewAddContextWordPacks=!1,a.viewWordPackWords=!1,a.viewEditWordPacks=!1,a.toggleStudentInfo("off")):"indiv"==b?(a.viewAddWordPacks=!0,a.viewAddAllWordPacks=!1,a.viewAddIndivWordPacks=!0,a.viewAddContextWordPacks=!1,a.viewWordPackWords=!1,a.viewEditWordPacks=!1,a.toggleStudentInfo("off")):"context"==b?(a.viewAddWordPacks=!0,a.viewAddAllWordPacks=!1,a.viewAddIndivWordPacks=!1,a.viewAddContextWordPacks=!0,a.viewWordPackWords=!1,a.viewEditWordPacks=!1,a.toggleStudentInfo("off")):"off"==b&&(a.viewAddWordPacks=!1,a.viewAddAllWordPacks=!1,a.viewAddIndivWordPacks=!1,a.viewAddContextWordPacks=!1,a.viewEditWordPacks=!1)},a.position="Hide",a.toggleWPinCP=function(b){"close"==b?(a.position="Show",a.wpIsCollapsed=!0):"open"==b?(a.position="Hide",a.wpIsCollapsed=!1):"toggle"==b&&(1==a.wpIsCollapsed?a.position="Hide":0==a.wpIsCollapsed&&(a.position="Show"),a.wpIsCollapsed=!a.wpIsCollapsed)},a.findIndexOfClass=function(b){for(var c=0;c<a.classArray.length;c++)if(b._id==a.classArray[c]._id)return c},a.findIndexOfGroup=function(b){for(var c=a.findIndexOfClass(a.currentGroupClass),d=0;d<a.classArray[c].groupList.length;d++)if(b._id==a.classArray[c].groupList[d]._id)return d},a.editClassName=function(b){a.editClassIndex=a.findIndexOfClass(b),a.hideEdit=!1,a.classToEdit=a.classArray[a.findIndexOfClass(b)]},a.updateClass=function(){a.editField.length>0?c.put("/api/users/"+a.currentUser._id+"/class",{classID:a.classToEdit._id,className:a.editField}).success(function(){a.editField="",a.getClasses(),a.hideEdit=!0}):alert("Please enter a new name for this class")},a.removeClass=function(b){a.classToRemove=a.classArray[a.findIndexOfClass(b)],c.put("/api/users/"+a.currentUser._id+"/deleteClass",{myClassID:a.classToRemove._id}).success(function(){a.getClasses(),a.removeClassIDFromStudents(a.classToRemove._id)})},a.removeClassIDFromStudents=function(b){for(var d=0;d<a.userStudents.length;d++)for(var e=0;e<a.userStudents[d].classList.length;e++)a.userStudents[d].classList[e]._id==b&&c.put("/api/students/"+a.userStudents[d]._id+"/removeClass",{_id:a.userStudents[d]._id,classID:b}).success(function(){})},a.editGroupName=function(b){a.editClassIndex=a.findIndexOfClass(a.currentGroupClass),a.editGroupIndex=a.findIndexOfGroup(b),a.hideGroupEdit=!1,a.groupToEdit=a.classArray[a.editClassIndex].groupList[a.editGroupIndex]},a.updateGroup=function(){a.groupEditField.length>0?c.put("/api/users/"+a.currentUser._id+"/group",{groupID:a.groupToEdit._id,groupName:a.groupEditField}).success(function(){a.currentGroup.groupName=a.groupEditField,a.groupEditField="",a.getClasses(),a.hideGroupEdit=!0}):alert("Please enter a new name for this group")},a.removeGroup=function(b){a.editClassIndex=a.findIndexOfClass(a.currentGroupClass),a.editGroupIndex=a.findIndexOfGroup(b),a.groupToRemove=a.classArray[a.editClassIndex].groupList[a.editGroupIndex],c.put("/api/users/"+a.currentUser._id+"/deleteGroup",{groupID:a.groupToRemove._id}).success(function(){a.getClasses(),a.removeGroupIDFromStudents(a.groupToRemove._id),a.toggleClassGroup("class")})},a.removeGroupIDFromStudents=function(b){for(var d=0;d<a.userStudents.length;d++)for(var e=0;e<a.userStudents[d].classList.length;e++)for(var f=0;f<a.userStudents[d].classList[e].groupList.length;f++)a.userStudents[d].classList[e].groupList[f]==b&&c.put("/api/students/"+a.userStudents[d]._id+"/removeGroup",{_id:a.userStudents[d]._id,groupID:b}).success(function(){})},a.viewGroups=function(b,c){a.currentGroup=b,a.currentGroupClass=c,a.toggleClassGroup("group"),a.studentsInGroup=[],a.studentsNotInGroup=[],a.allWordPacksInGroup=[],a.allWordPacksNotInGroup=[],a.indivWordPacksInGroup=[],a.indivWordPacksNotInGroup=[],a.allWordsInGroup=[],a.allWordsNotInGroup=[],a.indivWordsInGroup=[],a.contextPacksHolderGroup=[],a.contextPacksHolderNotGroup=[],a.getStudentsInGroup(a.currentGroup,a.studentsInGroup,a.studentsNotInGroup),a.getIDsInGroup(a.currentGroup),a.getIndivWordsInGroup(a.wordIDsInGroup,a.wordsArray,a.indivWordsInGroup,a.allWordsInGroup),a.getAllWordPacksInGroup(a.wordPackIDsInGroup,a.wordPacksHolder,a.allWordPacksInGroup,a.allWordsInGroup),a.getContextPacksInGroup(a.contextPacksHolderGroup,a.contextPacksHolderNotGroup),a.getAllWordsNotInGroup(a.allWordsInGroup,a.allWordsNotInGroup),a.getIndivWordPacksInGroup(a.allWordPacksInGroup,a.indivWordPacksInGroup),a.getWordPacksNotInGroup(a.allWordPacksInGroup,a.allWordPacksNotInGroup,"all"),a.getWordPacksNotInGroup(a.indivWordPacksInGroup,a.indivWordPacksNotInGroup,"not")},a.getContextPacksInGroup=function(b,c){for(var d=[],e=[],f=0;f<a.contextPacksHolder.length;f++)for(var g=0;g<a.allWordPacksInGroup.length;g++)if(-1!=a.contextPacksHolder[f].wordPacks.indexOf(a.allWordPacksInGroup[g])){for(var h=0;h<b.length;h++)d.push(b[h]._id);-1==d.indexOf(a.contextPacksHolder[f]._id)&&b.push({name:a.contextPacksHolder[f].name,_id:a.contextPacksHolder[f]._id,wordPacks:a.contextPacksHolder[f].wordPacks})}for(var i=0;i<a.contextPacksHolder.length;i++){for(var j=0;j<b.length;j++)e.push(b[j]._id);-1==e.indexOf(a.contextPacksHolder[i]._id)&&c.push({name:a.contextPacksHolder[i].name,_id:a.contextPacksHolder[i]._id,wordPacks:a.contextPacksHolder[i].wordPacks})}},a.getAssignedWordPacks=function(b){for(var c=[],d=0;d<a.allWordPacksInGroup.length;d++)for(var e=0;e<b.length;e++)a.allWordPacksInGroup[d]==b[e]&&-1==c.indexOf(a.allWordPacksInGroup[d])&&c.push(a.allWordPacksInGroup[d]);return c},a.getNotAssignedWordPacks=function(a,b){for(var c=[],d=0;d<b.length;d++)-1==a.indexOf(b[d])&&-1==c.indexOf(b[d])&&c.push(b[d]);return c},a.getIndivWordPacksInGroup=function(a,b){for(var c=0;c<a.length;c++)0==a[c].inContext&&-1==b.indexOf(a[c])&&b.push(a[c])},a.getWordPackWordsAssignedToGroup=function(){for(var b=[],c=0;c<a.allWordPacksInGroup.length;c++)for(var d=0;d<a.allWordPacksInGroup[c].words.length;d++)-1==b.indexOf(a.allWordPacksInGroup[c].words[d])&&b.push(a.allWordPacksInGroup[c].words[d]);return b},a.getIndivWordsInGroup=function(a,b,c,d){for(var e=[],f=[],g=0;g<b.length;g++)for(var h=0;h<a.length;h++)if(b[g]._id==a[h]){for(var i=0;i<c.length;i++)f.push(c[i]._id);-1==f.indexOf(b[g]._id)&&c.push(b[g]);for(var j=0;j<d.length;j++)e.push(d[j]._id);-1==e.indexOf(b[g]._id)&&d.push({_id:b[g]._id,name:b[g].name,wordType:b[g].wordType})}},a.getAllWordPacksInGroup=function(b,c,d,e){for(var f=[],g=0;g<c.length;g++)for(var h=0;h<b.length;h++)if(c[g]._id==b[h]&&-1==d.indexOf(c[g])){d.push(c[g]);for(var i=0;i<a.wordPacksArray.length;i++)if(a.wordPacksArray[i]._id==c[g]._id){f=a.getWordsFromWordIDs(a.wordPacksArray[i].words);for(var j=0;j<f.length;j++)-1==e.push(f[j])&&e.push(f[j])}}},a.getIDsInGroup=function(b){a.wordPackIDsInGroup=[],a.wordIDsInGroup=[];for(var c=0;c<a.classArray.length;c++)for(var d=0;d<a.classArray[c].groupList.length;d++)a.classArray[c].groupList[d]._id==b._id&&(a.wordPackIDsInGroup=a.classArray[c].groupList[d].wordPacks,a.wordIDsInGroup=a.classArray[c].groupList[d].words)},a.getStudentsInGroup=function(b,c,d){for(var e=0;e<a.userStudents.length;e++)for(var f=0;f<a.userStudents[e].classList.length;f++)for(var g=0;g<a.userStudents[e].classList[f].groupList.length;g++)a.userStudents[e].classList[f].groupList[g]==b._id&&-1==c.indexOf(a.userStudents[e])&&c.push(a.userStudents[e]);for(var h=0;h<a.userStudents.length;h++)-1==c.indexOf(a.userStudents[h])&&-1==d.indexOf(a.userStudents[h])&&d.push(a.userStudents[h])},a.viewWordsInWordPack=function(b){a.viewWordPackWords=!0,a.currentWordPack=b,a.wordsInWordPack=[];for(var c=0;c<a.wordPacksArray.length;c++)a.wordPacksArray[c]._id==b._id&&(a.wordsInWordPack=a.getWordsFromWordIDs(a.wordPacksArray[c].words))},a.getAllWordsNotInGroup=function(b,c){for(var d=[],e=0;e<b.length;e++)d.push(b[e]._id);for(var f=0;f<a.wordsArray.length;f++)-1==d.indexOf(a.wordsArray[f]._id)&&-1==c.indexOf(a.wordsArray[f])&&c.push(a.wordsArray[f])},a.getWordPacksNotInGroup=function(b,c,d){for(var e=[],f=0;f<b.length;f++)e.push(b[f]._id);for(var g=0;g<a.wordPacksArray.length;g++)-1==e.indexOf(a.wordPacksArray[g]._id)&&-1==c.indexOf(a.wordPacksArray[g])&&("not"==d?a.getContextBool(a.wordPacksArray[g]._id)||c.push(a.wordPacksArray[g]):"all"==d&&c.push(a.wordPacksArray[g]))},a.getContextBool=function(b){for(var c=!1,d=0;d<a.wordPacksHolder.length;d++)a.wordPacksHolder[d]._id==b&&(c=a.wordPacksHolder[d].inContext);return c},a.addStudentToGroup=function(b,d){var e=a.getClassIdOfGroupID(d._id);c.put("/api/students/"+b+"/assignToGroup",{studentID:b._id,classID:e,groupID:d._id}).success(function(){a.studentsInGroup.push(b);for(var c=0;c<a.studentsNotInGroup.length;c++)b==a.studentsNotInGroup[c]&&a.studentsNotInGroup.splice(c,1)})},a.removeStudentFromGroup=function(b,d){var e=a.getClassIdOfGroupID(d._id),f=b;c.put("/api/students/"+b+"/removeGroup",{studentID:b._id,classID:e,groupID:d._id}).success(function(){a.studentsNotInGroup.push(f);for(var b=0;b<a.studentsInGroup.length;b++)f==a.studentsInGroup[b]&&a.studentsInGroup.splice(b,1)})},a.getClassIdOfGroupID=function(b){for(var c="",d=0;d<a.classArray.length;d++)for(var e=0;e<a.classArray[d].groupList.length;e++)b==a.classArray[d].groupList[e]._id&&(c=a.classArray[d]._id);return c},a.addWordToGroup=function(b,d){var e=a.getClassIdOfGroupID(d._id);c.put("/api/users/"+a.currentUser._id+"/addWordIDtoGroup",{classID:e,groupID:d._id,wordID:b._id}).success(function(){a.allWordsInGroup.push(b),a.indivWordsInGroup.push(b);for(var c=0;c<a.allWordsNotInGroup.length;c++)b==a.allWordsNotInGroup[c]&&a.allWordsNotInGroup.splice(c,1)})},a.removeWordFromGroup=function(b,d){var e=a.getClassIdOfGroupID(d._id),f=b;c.put("/api/users/"+a.currentUser._id+"/removeWordIDfromGroup",{classID:e,groupID:d._id,wordID:b._id}).success(function(){a.allWordsNotInGroup.push(f);for(var b=0;b<a.indivWordsInGroup.length;b++)f==a.indivWordsInGroup[b]&&a.indivWordsInGroup.splice(b,1);for(var c=0;c<a.allWordsInGroup.length;c++)f._id==a.allWordsInGroup[c]._id&&a.allWordsInGroup.splice(c,1)})},a.getContextForWordPack=function(b){for(var c=null,d=0;d<a.contextPacksHolder.length;d++)for(var e=0;e<a.contextPacksHolder[d].wordPacks.length;e++)a.contextPacksHolder[d].wordPacks[e]._id==b._id&&(c=a.contextPacksHolder[d]);return c},a.addWordPackToGroup=function(b,d,e){var f=a.getClassIdOfGroupID(d._id);c.put("/api/users/"+a.currentUser._id+"/addWordPackIDtoGroup",{classID:f,groupID:d._id,wordPackID:b._id}).success(function(){if("context"==e){var c=a.getContextForWordPack(b);a.contextPacksHolderGroup.push(c);for(var d=0;d<a.contextPacksHolderNotGroup.length;d++)a.contextPacksHolderNotGroup[d]._id==c._id&&a.contextPacksHolderNotGroup.splice(d,1);e="all"}if("all"==e)a.allWordPacksInGroup.push(b);else if("indiv"==e){a.allWordPacksInGroup.push(b),a.indivWordPacksInGroup.push(b);for(var f=0;f<a.indivWordPacksNotInGroup.length;f++)b==a.indivWordPacksNotInGroup[f]&&a.indivWordPacksNotInGroup.splice(f,1)}for(var g=0;g<a.allWordPacksNotInGroup.length;g++)b==a.allWordPacksNotInGroup[g]&&a.allWordPacksNotInGroup.splice(g,1)})},a.checkIfWordPacksAreAssigned=function(b){return console.log(a.getAssignedWordPacks(b.wordPacks).length),a.getAssignedWordPacks(b.wordPacks).length>1?!0:!1},a.removeWordPackFromGroup=function(b,d){var e=a.getClassIdOfGroupID(d._id),f=b;c.put("/api/users/"+a.currentUser._id+"/removeWordPackIDfromGroup",{classID:e,groupID:d._id,wordPackID:b._id}).success(function(){if(f.inContext){var b=a.getContextForWordPack(f);if(a.checkIfWordPacksAreAssigned(b)){a.allWordPacksNotInGroup.push(f);for(var c=0;c<a.allWordPacksInGroup.length;c++)f==a.allWordPacksInGroup[c]&&a.allWordPacksInGroup.splice(c,1)}else{a.contextPacksHolderNotGroup.push(b);for(var d=0;d<a.contextPacksHolderGroup.length;d++)a.contextPacksHolderGroup[d]._id==b._id&&a.contextPacksHolderGroup.splice(d,1);a.allWordPacksNotInGroup.push(f);for(var c=0;c<a.allWordPacksInGroup.length;c++)f==a.allWordPacksInGroup[c]&&a.allWordPacksInGroup.splice(c,1)}}else{a.indivWordPacksNotInGroup.push(f),a.allWordPacksNotInGroup.push(f);for(var e=0;e<a.indivWordPacksInGroup.length;e++)f==a.indivWordPacksInGroup[e]&&a.indivWordPacksInGroup.splice(e,1);for(var g=0;g<a.allWordPacksInGroup.length;g++)f==a.allWordPacksInGroup[g]&&a.allWordPacksInGroup.splice(g,1)}})}}]),angular.module("WordRiverApp").config(["$stateProvider",function(a){a.state("myClasses",{url:"/myClasses",templateUrl:"app/myClasses/myClasses.html"})}]),angular.module("WordRiverApp").controller("MyStudentsCtrl",["$scope","$location","$http","Auth",function(a,b,c,d){a.myStudents=[],a.currentUser=d.getCurrentUser(),a.getStudents=function(){c.get("/api/students").success(function(b){for(var c=0;c<b.length;c++)a.inArray(b[c].teachers,a.currentUser._id)&&a.myStudents.push(b[c])})},a.getStudents(),a.getWords=function(){a.wordsArray=[],c.get("/api/words/").success(function(b){for(var c=0;c<b.length;c++)0==b[c].userCreated?-1==a.wordsArray.indexOf(b[c])&&a.wordsArray.push(b[c]):-1!=a.currentUser.words.indexOf(b[c]._id)&&-1==a.wordsArray.indexOf(b[c])&&a.wordsArray.push(b[c]);console.log("Got words!")})},a.getWords(),a.wordPacksHolder=[],a.wordPacksArray=[],a.getWordPacks=function(){a.wordPacksHolder=[],a.wordPacksArray=[],a.wordPacksHolderIDs=[],c.get("/api/wordPacks/").success(function(b){for(var c=0;c<b.length;c++){for(var d=0;d<a.wordPacksHolder.length;d++)a.wordPacksHolderIDs.push(a.wordPacksHolder[d]._id);b[c].creatorID==a.currentUser._id&&(-1==a.wordPacksArray.indexOf(b[c])&&a.wordPacksArray.push(b[c]),-1==a.wordPacksHolderIDs.indexOf(b[c]._id)&&a.wordPacksHolder.push({_id:b[c]._id,name:b[c].name,words:a.getWordsFromWordIDs(b[c].words),inContext:!1}))}console.log("Got word packs!")})},a.getWordsFromWordIDs=function(b){for(var c=[],d=0;d<a.wordsArray.length;d++)for(var e=0;e<b.length;e++)a.wordsArray[d]._id==b[e]&&-1==c.indexOf(a.wordsArray[d])&&c.push(a.wordsArray[d]);return c},a.getWordPacks(),a.contextPacksHolder=[],a.contextPacksArray=[],a.getContextPacks=function(){a.contextPacksHolder=[],a.contextPacksArray=[],a.contextPacksHolderIDs=[],c.get("/api/contextPacks/").success(function(b){for(var c=0;c<b.length;c++){for(var d=0;d<a.contextPacksHolder.length;d++)a.contextPacksHolderIDs.push(a.contextPacksHolder[d]._id);b[c].creatorID==a.currentUser._id&&(-1==a.contextPacksArray.indexOf(b[c])&&a.contextPacksArray.push(b[c]),-1==a.contextPacksHolderIDs.indexOf(b[c]._id)&&a.contextPacksHolder.push({_id:b[c]._id,name:b[c].name,wordPacks:a.getWordPacksFromWordPackIDs(b[c].wordPacks)}))}console.log("Got context packs!")})},a.getWordPacksFromWordPackIDs=function(b){for(var c=[],d=0;d<a.wordPacksHolder.length;d++)for(var e=0;e<b.length;e++)a.wordPacksHolder[d]._id==b[e]&&-1==c.indexOf(a.wordPacksHolder[d])&&(a.wordPacksHolder[d].inContext=!0,c.push(a.wordPacksHolder[d]));return c},a.getContextPacks(),a.inArray=function(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return!0;return!1},a.viewAddStudent=!1,a.viewEditStudent=!1,a.viewStudentInfo=!1,a.viewStudentInfoItem=!1,a.viewStudentClasses=!1,a.viewStudentContext=!1,a.viewStudentWordPacks=!1,a.viewStudentWords=!1,a.firstname="",a.lastname="",a.addStudent=function(){for(var b=[],d=0;d<a.myStudents.length;d++){var e=a.myStudents[d].firstName.toLowerCase(),f=a.myStudents[d].lastName.toLowerCase();b.push(e+f);var g=a.firstname.toLowerCase(),h=a.lastname.toLowerCase();e==g&&f==h&&confirm(a.firstname+" "+a.lastname+" is already one of your students. Did you want to add a new student with the same name?")&&(a.lastnamehelp=a.lastname+" (Copy)",c.post("/api/students/",{firstName:a.firstname,lastName:a.lastnamehelp,teachers:a.currentUser._id}).success(function(c){b.push(g+h),a.myStudents.push(c),a.addStudentIDToTeacher(c._id),a.firstname="",a.lastname=""}))}-1==b.indexOf(g+h)&&c.post("/api/students/",{firstName:a.firstname,lastName:a.lastname,teachers:a.currentUser._id}).success(function(b){a.myStudents.push(b),a.addStudentIDToTeacher(b._id),a.firstname="",a.lastname=""})},a.addStudentIDToTeacher=function(b){c.put("api/users/"+a.currentUser._id+"/addStudent",{studentID:b}).success(function(){})},a.editfirstname="",a.editlastname="",a.editStudent=function(b){for(var d=null,e=0;e<a.myStudents.length;e++)b._id==a.myStudents[e]._id&&(d=a.myStudents[e]);return""==a.editfirstname&&""==a.editlastname?alert("Please enter a replacement first or last name for "+d.firstName+" "+d.lastName):(""==a.editfirstname?a.editfirstname=d.firstName:""==a.editlastname&&(a.editlastname=d.lastName),void c.put("/api/students/"+d+"/editStudent",{firstName:a.editfirstname,lastName:a.editlastname,studentID:d._id}).success(function(){for(var c=0;c<a.myStudents.length;c++)b._id==a.myStudents[c]._id&&(a.myStudents[c].firstName=a.editfirstname,a.myStudents[c].lastName=a.editlastname);a.editfirstname="",a.editlastname=""}))},a.toggleAddStudent=function(b){"on"==b?(a.viewAddStudent=!0,a.viewStudentInfo=!1,a.toggleStudentInfo("off"),a.toggleEditStudent("off")):"off"==b&&(a.viewAddStudent=!1)},a.currentEditStudent=null,a.toggleEditStudent=function(b){"on"==b?(a.toggleStudentInfo("off"),a.toggleAddStudent("off"),a.viewEditStudent=!0):"off"==b&&(a.viewEditStudent=!1)},a.toggleCurrentEditStudent=function(b){a.currentEditStudent=b},a.toggleCurrentStudent=function(b){a.currentStudent=b},a.currentStudent=null,a.viewStudentInformation=function(b){a.toggleCurrentStudent(b),a.toggleEditStudent("off"),a.toggleStudentInfo("off"),a.toggleAddStudent("off"),a.viewStudentInfo=!0},a.toggleStudentInfo=function(b){"classes"==b?(a.viewStudentClasses=!0,a.viewStudentContext=!1,a.viewStudentWordPacks=!1,a.viewStudentWords=!1,a.viewStudentInfoItem=!0):"groups"==b?(a.viewStudentClasses=!1,a.viewStudentContext=!1,a.viewStudentWordPacks=!1,a.viewStudentWords=!1,a.viewStudentInfoItem=!0):"context"==b?(a.viewStudentClasses=!1,a.viewStudentContext=!0,a.viewStudentWordPacks=!1,a.viewStudentWords=!1,a.viewStudentInfoItem=!0):"wordPacks"==b?(a.viewStudentClasses=!1,a.viewStudentContext=!1,a.viewStudentWordPacks=!0,a.viewStudentWords=!1,a.viewStudentInfoItem=!0):"words"==b?(a.viewStudentClasses=!1,a.viewStudentContext=!1,a.viewStudentWordPacks=!1,a.viewStudentWords=!0,a.viewStudentInfoItem=!0):"off"==b&&(a.viewStudentInfoItem=!1,a.viewStudentClasses=!1,a.viewStudentContext=!1,a.viewStudentWordPacks=!1,a.viewStudentWords=!1)},a.studentClasses=[],a.getStudentClasses=function(){a.studentClasses=[];for(var b=0;b<a.currentStudent.classList.length;b++)for(var c=0;c<a.currentUser.classList.length;c++)a.currentUser.classList[c]._id==a.currentStudent.classList[b]._id&&-1==a.studentClasses.indexOf(a.currentUser.classList[c])&&a.studentClasses.push({_id:a.currentUser.classList[c]._id,className:a.currentUser.classList[c].className,groupList:a.getStudentGroups(a.currentStudent.classList[b].groupList)})},a.getStudentGroups=function(b){for(var c=[],d=[],e=0;e<a.currentUser.classList.length;e++)for(var f=0;f<a.currentUser.classList[e].groupList.length;f++)for(var g=0;g<b.length;g++)if(a.currentUser.classList[e].groupList[f]._id==b[g]){for(var h=0;h<c.length;h++)d.push(c[h]._id);-1==d.indexOf(a.currentUser.classList[e].groupList[f]._id)&&c.push({id:a.currentUser.classList[e].groupList[f]._id,groupName:a.currentUser.classList[e].groupList[f].groupName})}return c},a.studentContextPacks=[],a.getStudentContextPacks=function(){a.getStudentWordPacks(),a.studentContextPacks=[];for(var b=[],c=0;c<a.contextPacksHolder.length;c++)for(var d=0;d<a.contextPacksHolder[c].wordPacks.length;d++)for(var e=0;e<a.studentWordPacks.length;e++)a.contextPacksHolder[c].wordPacks[d]._id==a.studentWordPacks[e]._id&&-1==b.indexOf(a.contextPacksHolder[c]._id)&&(b.push(a.contextPacksHolder[c]._id),a.studentContextPacks.push({_id:a.contextPacksHolder[c]._id,name:a.contextPacksHolder[c].name,wordPacks:a.getStudentWordPacksForContext(a.contextPacksHolder[c].wordPacks,a.studentWordPacks)}))},a.studentWordPacks=[],a.getStudentWordPacksForContext=function(a,b){for(var c=[],d=0;d<a.length;d++)for(var e=0;e<b.length;e++)a[d]._id==b[e]._id&&-1==c.indexOf(b[e])&&c.push({_id:b[e]._id,name:b[e].name});return c},a.getStudentWordPacks=function(){a.studentWordPacks=[];for(var b=0;b<a.wordPacksHolder.length;b++)for(var c=0;c<a.currentStudent.wordPacks.length;c++)a.currentStudent.wordPacks[c]==a.wordPacksHolder[b]._id&&-1==a.studentWordPacks.indexOf(a.wordPacksHolder[b])&&a.studentWordPacks.push({_id:a.wordPacksHolder[b]._id,name:a.wordPacksHolder[b].name})},a.studentWords=[],a.getStudentWords=function(){a.studentWords=[];for(var b=0;b<a.wordsArray.length;b++)for(var c=0;c<a.currentStudent.words.length;c++)a.currentStudent.words[c]==a.wordsArray[b]._id&&-1==a.studentWords.indexOf(a.wordsArray[b])&&a.studentWords.push(a.wordsArray[b])}}]),angular.module("WordRiverApp").config(["$stateProvider",function(a){a.state("myStudents",{url:"/myStudents",templateUrl:"app/myStudents/myStudents.html"})}]),angular.module("WordRiverApp").controller("MyWordPacksCtrl",["Auth","$http","$scope",function(a,b,c){c.currentUser=a.getCurrentUser(),c.inArray=function(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return!0;
return!1},c.wordsArray=[],c.getWords=function(){b.get("/api/words").success(function(a){c.wordsArray=[];for(var b=0;b<a.length;b++)0==a[b].userCreated?-1==c.wordsArray.indexOf(a[b])&&c.wordsArray.push(a[b]):-1!=c.currentUser.words.indexOf(a[b]._id)&&-1==c.wordsArray.indexOf(a[b])&&c.wordsArray.push(a[b])})},c.getWords(),c.wordPacksNonContextHolder=[],c.wordPacksArray=[],c.getWordPacks=function(){c.wordPacksArray=[],b.get("/api/wordPacks").success(function(a){for(var b=a,d=0;d<b.length;d++)b[d].creatorID==c.currentUser._id&&-1==c.wordPacksArray.indexOf(b[d])&&c.wordPacksArray.push(b[d])})},c.getWordsFromWordIDs=function(a){for(var b=[],d=[],e=0;e<c.wordsArray.length;e++)for(var f=0;f<a.length;f++)if(c.wordsArray[e]._id==a[f]){for(var g=0;g<b.length;g++)d.push(b[g]._id);-1==d.indexOf(c.wordsArray[e]._id)&&b.push({_id:c.wordsArray[e]._id,name:c.wordsArray[e].name,wordType:c.wordsArray[e].wordType})}return b},c.getWordPacks(),c.contextPacksArray=[],c.wordPacksInContextIDs=[],c.getContextPacks=function(){c.contextPacksArray=[],c.wordPacksInContextIDs=[],b.get("/api/contextPacks").success(function(a){for(var b=0;b<a.length;b++)if(a[b].creatorID==c.currentUser._id&&-1==c.contextPacksArray.indexOf(a[b])){c.contextPacksArray.push(a[b]);for(var d=0;d<a[b].wordPacks.length;d++)-1==c.wordPacksInContextIDs.indexOf(a[b].wordPacks[d])&&c.wordPacksInContextIDs.push(a[b].wordPacks[d])}c.getNonContextWordPacks()})},c.getWordPacksFromWordPackIDs=function(a){for(var b=[],d=0;d<c.wordPacksArray.length;d++)for(var e=0;e<a.length;e++)if(c.wordPacksArray[d]._id==a[e]&&-1==b.indexOf(c.wordPacksArray[d])){b.push(c.wordPacksArray[d]);break}return b},c.getNonContextWordPacks=function(){c.wordPacksNonContextHolder=[];for(var a=0;a<c.wordPacksArray.length;a++)-1==c.wordPacksInContextIDs.indexOf(c.wordPacksArray[a]._id)&&-1==c.wordPacksNonContextHolder.indexOf(c.wordPacksArray[a])&&c.wordPacksNonContextHolder.push(c.wordPacksArray[a])},c.getContextPacks(),c.typeOptions=["Adjective","Adverb","Article","Conjunction","Interjection","Noun","Preposition","Pronoun","Verb"],c.viewMyContextPacks=!1,c.viewAllOfMyWordPacks=!1,c.viewMyNonContextWordPacks=!1,c.viewWordPackWords=!1,c.toggleView=function(a){"context"==a?(c.viewMyContextPacks=!0,c.viewAllOfMyWordPacks=!1,c.viewMyNonContextWordPacks=!1,c.viewWordPackWords=!1,c.viewEditWordPackName=!1,c.viewCreateWordPack=!1,c.viewAddWordPack=!1,c.createWordPackForContext=!1,c.viewAddWordsToWordPacks=!1):"all"==a?(c.viewMyContextPacks=!1,c.viewAllOfMyWordPacks=!0,c.viewMyNonContextWordPacks=!1,c.viewWordPackWords=!1,c.viewEditWordPackName=!1,c.viewCreateWordPack=!1,c.viewAddWordPack=!1,c.createWordPackForContext=!1,c.viewAddWordsToWordPacks=!1):"indiv"==a&&(c.viewMyContextPacks=!1,c.viewAllOfMyWordPacks=!1,c.viewMyNonContextWordPacks=!0,c.viewWordPackWords=!1,c.viewEditWordPackName=!1,c.viewCreateWordPack=!1,c.viewAddWordPack=!1,c.createWordPackForContext=!1,c.viewAddWordsToWordPacks=!1)},c.viewEditContextName=!1,c.contextToEdit=null,c.editContextName="",c.editContextName=function(a){c.viewEditWordPackName=!1,c.viewWordPackWords=!1,c.viewEditContextName=!0,c.contextToEditName=a.name,c.contextToEdit=a,c.viewCreateWordPack=!1,c.viewAddWordPack=!1,c.createWordPackForContext=!1,c.viewAddWordsToWordPacks=!1},c.getWordPacksForContextPack=function(a){return c.getWordPacksFromWordPackIDs(a.wordPacks)},c.updateContextName=function(){c.editContextName.length>0?b.put("/api/contextPacks/"+c.contextToEdit._id+"/editContextName",{contextID:c.contextToEdit._id,name:c.editContextNameField}).success(function(){c.editContextNameField="",c.getContextPacks(),c.viewEditContextName=!1}):alert("Please enter a new name for this context pack")},c.removeContextPack=function(a){var d=a;confirm("This will remove the Context Pack, but the Word Packs will still exist unless removed.")&&b["delete"]("/api/contextPacks/"+a._id).success(function(){for(var a=0;a<c.contextPacksArray.length;a++)d._id==c.contextPacksArray[a]._id&&c.contextPacksArray.splice(a,1)})},c.viewCreateContextPack=!1,c.newContextPack=function(){c.viewCreateContextPack=!0,c.viewWordPackWords=!1,c.viewEditWordPackName=!1,c.viewCreateWordPack=!1,c.viewAddWordPack=!1,c.viewAddWordsToWordPacks=!1},c.createContextPack=function(){var a=c.createContextPackNameField;a.length>0?b.post("/api/contextPacks/",{name:c.createContextPackNameField,creatorID:c.currentUser._id}).success(function(a){c.contextPacksArray.push(a),c.createContextPackNameField="",c.viewCreateContextPack=!1}):alert("Please enter a name for this context pack")},c.viewEditWordPackName=!1,c.wordPackToEdit=null,c.editWordPackName="",c.editWordPackName=function(a){c.viewEditContextName=!1,c.viewWordPackWords=!1,c.viewEditWordPackName=!0,c.wordPackToEditName=a.name,c.wordPackToEdit=a,c.viewCreateWordPack=!1,c.viewCreateContextPack=!1,c.viewAddWordPack=!1,c.createWordPackForContext=!1,c.viewAddWordsToWordPacks=!1},c.updateWordPackName=function(){c.editWordPackName.length>0?b.put("/api/wordPacks/"+c.wordPackToEdit._id+"/editWordPackName",{wordPackID:c.wordPackToEdit._id,name:c.editWordPackNameField}).success(function(){for(var a=0;a<c.wordPacksArray.length;a++)c.wordPacksArray[a]._id==c.wordPackToEdit._id&&(c.wordPacksArray[a].name=c.editWordPackNameField);for(var b=0;b<c.wordPacksNonContextHolder.length;b++)c.wordPacksNonContextHolder[b]._id==c.wordPackToEdit._id&&(c.wordPacksNonContextHolder[b].name=c.editWordPackNameField);c.editWordPackNameField="",c.viewEditWordPackName=!1}):alert("Please enter a new name for this word pack")},c.viewCreateWordPack=!1,c.createWordPackForContext=!1,c.currentContextPack=null,c.newWordPack=function(a){c.viewWordPackWords=!1,c.viewEditWordPackName=!1,c.viewCreateWordPack=!0,c.viewCreateContextPack=!1,c.viewAddWordPack=!1,c.viewAddWordsToWordPacks=!1,null!=a&&(c.currentContextPack=a,c.createWordPackForContext=!0)},c.createWordPack=function(){c.createWordPackNameField.length>0?b.post("/api/wordPacks/",{name:c.createWordPackNameField,creatorID:c.currentUser._id}).success(function(a){var b=a;if(b.inContext=!1,c.wordPacksArray.push(b),c.wordPacksNonContextHolder.push(b),c.createWordPackForContext){for(var d=0;d<c.contextPacksArray.length;d++)c.contextPacksArray[d]._id==c.currentContextPack._id&&c.addWordPackToContextPack(c.contextPacksArray[d]._id,b);c.createWordPackForContext=!1}c.createWordPackNameField="",c.viewCreateWordPack=!1,c.currentWordPack=b,c.viewWordPackWords=!0}):alert("Please enter a name for this word pack")},c.viewAddWordPackOptions=!1,c.addWordPackOptions=function(a){c.viewAddWordPackOptions=!0,"context"==a||"all"==a||"indiv"==a||"off"==a&&(c.viewAddWordPackOptions=!1)},c.viewAddWordPack=!1,c.addWordPack=function(a){c.currentContextPack=a,c.viewWordPackWords=!1,c.viewEditWordPackName=!1,c.viewAddWordPack=!0,c.viewCreateWordPack=!1,c.viewCreateContextPack=!1,c.viewAddWordsToWordPacks=!1},c.addWordPackToContextPack=function(a,d){b.put("/api/contextPacks/"+a+"/addWordPackToContextPack",{wordPackID:d._id}).success(function(){c.getContextPacks()})},c.removeWordPackFromContextPack=function(a,d){b.put("/api/contextPacks/"+a._id+"/removeWordPackFromContextPack",{wordPackID:d._id}).success(function(){for(var b=0;b<c.contextPacksArray.length;b++)if(c.contextPacksArray[b]._id==a._id)for(var e=0;e<c.contextPacksArray[b].wordPacks.length;e++)c.contextPacksArray[b].wordPacks[e]==d._id&&c.contextPacksArray[b].wordPacks.splice(e,1);for(var f=0;f<c.wordPacksArray.length;f++)c.wordPacksArray[f]._id==d._id&&(c.wordPacksArray[f].inContext=!1);c.wordPacksNonContextHolder.push(d)})},c.currentWordPack=null,c.wordsNotInWordPack=[],c.viewWordsInWordPack=function(a){c.viewEditContextName=!1,c.viewEditWordPackName=!1,c.viewWordPackWords=!0,c.viewCreateWordPack=!1,c.viewCreateContextPack=!1,c.createWordPackForContext=!1,c.viewAddWordsToWordPacks=!1,c.currentWordPack=a,c.wordsInWordPack=[],c.wordsNotInWordPack=[];for(var b=[],d=0;d<c.wordPacksArray.length;d++)c.wordPacksArray[d]._id==a._id&&(b=c.wordPacksArray[d].words,c.wordsInWordPack=c.getWordsFromWordIDs(c.wordPacksArray[d].words));for(var e=0;e<c.wordsArray.length;e++)-1==b.indexOf(c.wordsArray[e]._id)&&c.wordsNotInWordPack.push({_id:c.wordsArray[e]._id,name:c.wordsArray[e].name,wordType:c.wordsArray[e].wordType})},c.viewAddWordsToWordPacks=!1,c.addWords=function(){c.viewAddWordsToWordPacks=!0},c.addWordsToWordPack=function(a){var d=a;b.put("/api/wordPacks/"+c.currentWordPack._id+"/addWordToWordPack",{wordID:a._id}).success(function(){c.wordsInWordPack.push({_id:d._id,name:d.name,wordType:d.wordType});for(var a=0;a<c.wordsNotInWordPack.length;a++)c.wordsNotInWordPack[a]._id==d._id&&c.wordsNotInWordPack.splice(a,1);c.getWordPacks()})},c.removeWordFromWordPack=function(a){var d=a;b.put("/api/wordPacks/"+c.currentWordPack._id+"/removeWordIDFromWordPack",{wordID:a._id}).success(function(){for(var a=0;a<c.wordsInWordPack.length;a++)c.wordsInWordPack[a]._id==d._id&&c.wordsInWordPack.splice(a,1);c.wordsNotInWordPack.push({_id:d._id,name:d.name,wordType:d.wordType}),c.getWordPacks()})},c.removeWordPack=function(a){var d=a;confirm("Are you sure you want to delete "+a.name+"? \n\n*Note*\n This will not delete words in the word pack")&&b["delete"]("/api/wordPacks/"+a._id).success(function(){for(var a=0;a<c.wordPacksNonContextHolder.length;a++)d._id==c.wordPacksNonContextHolder[a]._id&&c.wordPacksNonContextHolder.splice(a,1);for(var b=0;b<c.wordPacksArray.length;b++)d._id==c.wordPacksArray[b]._id&&c.wordPacksArray.splice(b,1)})}}]),angular.module("WordRiverApp").config(["$stateProvider",function(a){a.state("myWordPacks",{url:"/myWordPacks",templateUrl:"app/myWordPacks/myWordPacks.html"})}]),angular.module("WordRiverApp").controller("MyWordsCtrl",["$scope","$http","socket","Auth",function(a,b,c,d){a.currentUser=d.getCurrentUser(),a.allWords=[],a.userWords=[],a.userAllWords=[],a.userWordIDs=[],a.viewEditWords=!1,a.wordToEdit=null,a.editField="",a.editType="",a.typeOptions=["","Adjective","Adverb","Article","Conjunction","Interjection","Noun","Preposition","Pronoun","Verb"],a.selection={addType:""},a.getAllWords=function(){a.allWords=[],b.get("/api/words/").success(function(b){a.allWords=b,a.getAllUserWords(),a.getUserWords()})},a.getAllWords(),a.getUserWords=function(){a.userWordIDs=[],a.userWords=[],b.get("/api/users/me").success(function(b){a.userWordIDs=b.words;for(var c=0;c<a.allWords.length;c++)for(var d=0;d<a.userWordIDs.length;d++)a.allWords[c]._id==a.userWordIDs[d]&&a.userWords.push(a.allWords[c])})},a.getAllUserWords=function(){a.userAllWords=[];for(var b=0;b<a.allWords.length;b++)a.allWords[b].userCreated||a.userAllWords.push(a.allWords[b])},a.findIndexOfWord=function(b){for(var c=0;c<a.allWords.length;c++)if(b._id==a.allWords[c]._id)return c},a.currentWord=null,a.editWord=function(b){a.currentWord=b,a.editWordIndex=a.findIndexOfWord(b),a.viewEditWords=!0,a.viewAddWords=!1,a.wordToEdit=a.allWords[a.findIndexOfWord(b)]},a.updateWord=function(){a.editField.length>=1&&a.editType.length<1?(b.patch("/api/words/"+a.wordToEdit._id,{name:a.editField,wordType:a.allWords[a.editWordIndex].wordType}),a.editField=""):0==a.editField.length&&a.editType.length>=1?(b.patch("/api/words/"+a.wordToEdit._id,{name:a.allWords[a.editWordIndex].name,wordType:a.editType}),a.editType=""):a.editField.length>=1&&a.editType.length>=1&&(b.patch("/api/words/"+a.wordToEdit._id,{name:a.editField,wordType:a.editType}),a.editField="",a.editType=""),a.getAllWords(),a.viewEditWords=!1},a.deleteWord=function(c){var d=c;b["delete"]("/api/words/"+c._id).success(function(){b.put("/api/users/"+a.currentUser._id+"/removeWordID",{wordID:d._id}).success(function(){})}),a.getAllWords()},a.viewAddWords=!1,a.addNewWord=function(){a.addField.length>0&&a.addType.length>0?(b.post("/api/words/",{name:a.addField,wordType:a.addType,userCreated:!0}).success(function(c){a.userWords.push(c),b.put("/api/users/"+a.currentUser._id+"/addWordID",{wordID:c._id}).success(function(){})}),a.addField=""):a.addField.length>0&&a.addType.length<0?alert("Please select the part of speech for "+a.addField):a.addField.length<0&&a.addType.length<0?alert("Please enter a new word and select the part of speech"):a.addField.length<0&&a.addType.length>0&&alert("Please enter a new word for your selected the part of speech")}}]),angular.module("WordRiverApp").config(["$stateProvider",function(a){a.state("myWords",{url:"/myWords",templateUrl:"app/myWords/myWords.html"})}]),angular.module("WordRiverApp").factory("Auth",["$location","$rootScope","$http","User","$cookieStore","$q",function(a,b,c,d,e,f){var g={};return e.get("token")&&(g=d.get()),{login:function(a,b){var h=b||angular.noop,i=f.defer();return c.post("/auth/local",{email:a.email,password:a.password}).success(function(a){return e.put("token",a.token),g=d.get(),i.resolve(a),h()}).error(function(a){return this.logout(),i.reject(a),h(a)}.bind(this)),i.promise},logout:function(){e.remove("token"),g={}},createUser:function(a,b){var c=b||angular.noop;return d.save(a,function(b){return e.put("token",b.token),g=d.get(),c(a)},function(a){return this.logout(),c(a)}.bind(this)).$promise},changePassword:function(a,b,c){var e=c||angular.noop;return d.changePassword({id:g._id},{oldPassword:a,newPassword:b},function(a){return e(a)},function(a){return e(a)}).$promise},getCurrentUser:function(){return g},isLoggedIn:function(){return g.hasOwnProperty("role")},isLoggedInAsync:function(a){g.hasOwnProperty("$promise")?g.$promise.then(function(){a(!0)})["catch"](function(){a(!1)}):a(g.hasOwnProperty("role")?!0:!1)},isAdmin:function(){return"admin"===g.role},getToken:function(){return e.get("token")}}}]),angular.module("WordRiverApp").factory("User",["$resource",function(a){return a("/api/users/:id/:controller",{id:"@_id"},{changePassword:{method:"PUT",params:{controller:"password"}},get:{method:"GET",params:{id:"me"}}})}]),angular.module("WordRiverApp").factory("Modal",["$rootScope","$modal",function(a,b){function c(c,d){var e=a.$new();return c=c||{},d=d||"modal-default",angular.extend(e,c),b.open({templateUrl:"components/modal/modal.html",windowClass:d,scope:e})}return{confirm:{"delete":function(a){return a=a||angular.noop,function(){var b,d=Array.prototype.slice.call(arguments),e=d.shift();b=c({modal:{dismissable:!0,title:"Confirm Delete",html:"<p>Are you sure you want to delete <strong>"+e+"</strong> ?</p>",buttons:[{classes:"btn-danger",text:"Delete",click:function(a){b.close(a)}},{classes:"btn-default",text:"Cancel",click:function(a){b.dismiss(a)}}]}},"modal-danger"),b.result.then(function(b){a.apply(b,d)})}}}}}]),angular.module("WordRiverApp").directive("mongooseError",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){b.on("keydown",function(){return d.$setValidity("mongoose",!0)})}}}),angular.module("WordRiverApp").controller("NavbarCtrl",["$scope","$rootScope","$location","Auth",function(a,b,c,d){a.menu=[{title:"Home",link:"/"}],a.isGroupsCollapsed=!0,a.isLoggedIn=d.isLoggedIn,a.isAdmin=d.isAdmin,a.getCurrentUser=d.getCurrentUser,a.logout=function(){d.logout(),window.location="/"},a.goHome=function(){window.location="/"},a.changePassword=function(){window.location="/?changePassword=true"},a.refreshPage=function(){location.reload()},a.isActive=function(a){return a===c.path()}}]),angular.module("WordRiverApp").factory("socket",["socketFactory",function(a){var b=io("",{path:"/socket.io-client"}),c=a({ioSocket:b});return{socket:c,syncUpdates:function(a,b,d){d=d||angular.noop,c.on(a+":save",function(a){var c=_.find(b,{_id:a._id}),e=b.indexOf(c),f="created";c?(b.splice(e,1,a),f="updated"):b.push(a),d(f,a,b)}),c.on(a+":remove",function(a){var c="deleted";_.remove(b,{_id:a._id}),d(c,a,b)})},unsyncUpdates:function(a){c.removeAllListeners(a+":save"),c.removeAllListeners(a+":remove")}}}]),angular.module("WordRiverApp").run(["$templateCache",function(a){a.put("app/account/login/login.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><div class=container><div class=row><div class=col-sm-12><h1>Login</h1><p>Accounts are reset on server restart from <code>server/config/seed.js</code>. Default account is <code>test@test.com</code> / <code>test</code></p><p>Admin account is <code>admin@admin.com</code> / <code>admin</code></p></div><div class=col-sm-12><form class=form name=form ng-submit=login(form) novalidate><div class=form-group><label>Email</label><input type=email name=email class=form-control ng-model=user.email required></div><div class=form-group><label>Password</label><input type=password name=password class=form-control ng-model=user.password required></div><div class="form-group has-error"><p class=help-block ng-show="form.email.$error.required && form.password.$error.required && submitted">Please enter your email and password.</p><p class=help-block ng-show="form.email.$error.email && submitted">Please enter a valid email.</p><p class=help-block>{{ errors.other }}</p></div><div><button class="btn btn-inverse btn-lg btn-login" type=submit>Login</button> <a class="btn btn-default btn-lg btn-register" href=/signup>Register</a></div></form></div></div><hr></div>'),a.put("app/account/settings/settings.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><header class="hero background" id=banner ng-style=backgroundImage><div class=container><div class=mainDivBox><br><h2 class=upperText>Change Password</h2><form class=form name=form ng-submit=changePassword(form) novalidate><div class=clear><div class="form-group has-error"><span class=help-block ng-show=form.password.$error.mongoose>{{ errors.other }}</span></div><br><input type=password name=password class=input ng-model=user.oldPassword mongoose-error><label class=label>: Current Password</label></div><div class=clear><div class="form-group has-error"><span class=help-block ng-show="(form.newPassword.$error.minlength || form.newPassword.$error.required) && (form.newPassword.$dirty || submitted)">Password must be at least 3 characters.</span></div><input type=password name=newPassword class=input ng-model=user.newPassword ng-minlength=3 required><label class=label>: New Password</label></div><div class=clear><button class="btn btn-lg btn-login buttonLower" type=submit>Save changes</button><br><span class=help-block>{{ message }}</span></div></form></div></div></header><!--<div class="col-sm-6">--><!--<form class="form" name="form" ng-submit="changePassword(form)" novalidate>--><!--<div class="form-group">--><!--<label>Current Password</label>--><!--<input type="password" name="password" class="form-control" ng-model="user.oldPassword"--><!--mongoose-error/>--><!--<p class="help-block" ng-show="form.password.$error.mongoose">--><!--{{ errors.other }}--><!--</p>--><!--</div>--><!--<div class="form-group">--><!--<label>New Password</label>--><!--<input type="password" name="newPassword" class="form-control" ng-model="user.newPassword"--><!--ng-minlength="3"--><!--required/>--><!--<p class=""--><!--ng-show="(form.newPassword.$error.minlength || form.newPassword.$error.required) && (form.newPassword.$dirty || submitted)">--><!--Password must be at least 3 characters.--><!--</p>--><!--</div>--><!--<p class="help-block"> {{ message }} </p>--><!--<div class="submitButton">--><!--<button class="btn btn-lg btn-primary" type="submit">Save changes</button>--><!--</div>--><!--</form>--><!--</div>-->'),a.put("app/account/signup/signup.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><div class=container><div class=row><div class=col-sm-12><h1>Sign up</h1></div><div class=col-sm-12><form class=form name=form ng-submit=register(form) novalidate><div class=form-group ng-class="{ \'has-success\': form.name.$valid && submitted,\r\n                                            \'has-error\': form.name.$invalid && submitted }"><label>Name</label><input name=name class=form-control ng-model=user.name required><p class=help-block ng-show="form.name.$error.required && submitted">A name is required</p></div><div class=form-group ng-class="{ \'has-success\': form.email.$valid && submitted,\r\n                                            \'has-error\': form.email.$invalid && submitted }"><label>Email</label><input type=email name=email class=form-control ng-model=user.email required mongoose-error><p class=help-block ng-show="form.email.$error.email && submitted">Doesn\'t look like a valid email.</p><p class=help-block ng-show="form.email.$error.required && submitted">What\'s your email address?</p><p class=help-block ng-show=form.email.$error.mongoose>{{ errors.email }}</p></div><div class=form-group ng-class="{ \'has-success\': form.password.$valid && submitted,\r\n                                            \'has-error\': form.password.$invalid && submitted }"><label>Password</label><input type=password name=password class=form-control ng-model=user.password ng-minlength=3 required mongoose-error><p class=help-block ng-show="(form.password.$error.minlength || form.password.$error.required) && submitted">Password must be at least 3 characters.</p><p class=help-block ng-show=form.password.$error.mongoose>{{ errors.password }}</p></div><div><button class="btn btn-inverse btn-lg btn-login" type=submit>Sign up</button> <a class="btn btn-default btn-lg btn-register" href=/login>Login</a></div></form></div></div><hr></div>'),a.put("app/admin/admin.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><div class=container><p>The delete user and user index api routes are restricted to users with the \'admin\' role.</p><ul class=list-group><li class=list-group-item ng-repeat="user in users"><strong>{{user.name}}</strong><br><span class=text-muted>{{user.email}}</span> <a ng-click=delete(user) class=trash><span class="glyphicon glyphicon-trash pull-right"></span></a></li></ul></div>'),a.put("app/home/home.html",'<header class=hero-unit id=banner><div ng-include="\'components/navbar/navbar.html\'"></div><div class=container><br><br><!--<img class="resize" src="assets/images/4ee87f07.WordRiverLogo.png" alt="we have a logo!"><br>--><h1 ng-hide=changePasswordShow>Word River</h1><h2 class=changePasswordText ng-show=changePasswordShow>Change Password</h2></div></header><!--To center login, need to add column to the left--><div class=col-sm-4></div><header class=col-sm-4><!--Welcome area--><div ng-show=signedInShow class="center backgroundColor"><span><h2>Hello {{ getCurrentUser().name }}</h2></span><h3>Would you like to view:</h3><h4><a href=/myClasses>My Classes</a></h4><h4><a href=/myStudents>My Students</a></h4><h4><a href=/myWordPacks>My Word Packs</a></h4><h4><a href=/myWords>My Words</a></h4></div><!--Login screen--><div class=loginBox><div ng-show=logInShow><form class=form name=logIn ng-submit=login(logIn) novalidate><a class="btn btn-default btn-lg btn-register buttonSizeUpperLogIn" ng-click="logInShow = true; signUpShow = false;">Login</a> <a class="btn btn-default btn-lg btn-register buttonSizeUpperLogIn" ng-click="logInShow = false; signUpShow = true;">Sign Up</a><div class="form-group has-error"><span class="clear help-block" ng-show="logIn.email.$error.required && logIn.password.$error.required && submitted">Please enter your email and password.</span> <span class="clear help-block" ng-show="logIn.email.$error.email && submitted">Please enter a valid email.</span> <span class="clear help-block">{{ errors.other }}</span></div><div class=clear><input type=email name=email class=input ng-model=user.email id=loginEmail required><label class=label for=loginEmail>: Email</label></div><div class=clear><input type=password name=password class=input ng-model=user.password required><label class=label>: Password</label></div><div class=clear><button class="btn btn-inverse btn-lg btn-login buttonSizeLower" type=submit>Submit</button></div></form></div><!--sign up screen--><div ng-show=signUpShow><form class=form name=signUp ng-submit=register(signUp) novalidate><a class="btn btn-default btn-lg btn-register buttonSizeUpperSignUp" ng-click="logInShow = true; signUpShow = false;">Login</a> <a class="btn btn-default btn-lg btn-register buttonSizeUpperSignUp" ng-click="logInShow = false; signUpShow = true;">Sign Up</a><div class=clear ng-class="{ \'has-success\': signUp.name.$valid && submitted,\r\n                                        \'has-error\': signUp.name.$invalid && submitted }"><span class="clear help-block" ng-show="signUp.name.$error.required && submitted">A name is required</span> <input name=name class="clear input" ng-model=user.name required><label class=label>: Name</label></div><div class=clear ng-class="{ \'has-success\': signUp.email.$valid && submitted,\r\n                                        \'has-error\': signUp.email.$invalid && submitted }"><span class="clear help-block" ng-show="signUp.email.$error.email && submitted">Doesn\'t look like a valid email.</span> <span class="clear help-block" ng-show="signUp.email.$error.required && submitted">What\'s your email address?</span> <span class="clear help-block" ng-show=signUp.email.$error.mongoose>{{ errors.email }}</span> <input type=email name=email class="clear input" ng-model=user.email required mongoose-error><label class=label>: Email</label></div><div class=clear ng-class="{ \'has-success\': signUp.password.$valid && submitted,\r\n                                        \'has-error\': signUp.password.$invalid && submitted }"><span class="clear help-block" ng-show="(signUp.password.$error.minlength || signUp.password.$error.required) && submitted">Password must be at least 3 characters.</span> <span class=help-block ng-show=signUp.password.$error.mongoose>{{ errors.password }}</span> <input type=password name=password class="clear input" ng-model=user.password ng-minlength=3 required mongoose-error><label class=label>: Password</label></div><div class=clear><button class="btn btn-inverse btn-lg btn-login buttonSizeLower" type=submit>Submit</button></div></form></div><!--Change password show--><div ng-show=changePasswordShow><form class=form name=form ng-submit=changePassword(form) novalidate><div class=clear><div class="form-group has-error"><span class=help-block ng-show=form.password.$error.mongoose><h5 class=errorText>Incorrect Password.</h5></span></div><input type=password name=password class="input inputSize" ng-model=user.oldPassword mongoose-error><label class=label>: Current Password</label></div><div class=clear><div class="form-group has-error"><span class=help-block ng-show="(form.newPassword.$error.minlength || form.newPassword.$error.required) && (form.newPassword.$dirty || submitted)"><h5 class=errorText>Password must be at least 3 characters.</h5></span></div><input type=password name=newPassword class="input inputSize" ng-model=user.newPassword ng-minlength=3 required><label class=label>: New Password</label></div><div class=clear><span class=greenText>{{ message }}</span> <button class="btn btn-lg btn-login buttonLower" type=submit>Save changes</button></div></form></div></div></header><div class=test><p>Word River is a system to help teachers support their students creative engagement.<br>It gives teachers a tool to enable differential learning and allows teachers to personalize their curricula while tracking student progress.<br>This project was created to help children take over the world via intense knowledge.</p></div>'),a.put("app/myClasses/myClasses.html",'<div ng-controller=MyClassesCtrl class=container><div ng-include="\'components/navbar/navbar.html\'"></div><div><br><br><h1>{{headerTitle}}</h1></div><!--View for Classes--><div ng-show=viewClassInfo><h2>Your {{classArray.length}} Classes:</h2><div class=col-xs-3><!--List of current groups with edit and remove options--><div ng-repeat="class in classArray"><label>{{class.className}}</label><a class="glyphicon glyphicon-pencil" ng-click=editClassName(class)></a> <a class="glyphicon glyphicon-trash" ng-click=removeClass(class)></a> <button class=btn-primary ng-click="isGroupsCollapsed = !isGroupsCollapsed">Toggle Groups</button><div collapse=isGroupsCollapsed ng-repeat="group in class.groupList"><label><a ng-click="viewGroups(group, class)">{{group.groupName}}</a></label></div></div></div><div class=col-xs-3 ng-hide=hideEdit><br><input ng-model=editField size=15 placeholder={{classToEdit.className}}> <input type=submit value="Edit Class Name" class=btn-primary ng-click=updateClass()></div></div><!--Area for editing a group name--><div class=col-xs-3 ng-hide=hideGroupEdit><br><input ng-model=groupEditField size=15 placeholder={{groupToEdit.groupName}}> <input type=submit value="Edit Group Name" class=btn-primary ng-click=updateGroup()> <input type=submit value=Cancel class=btn-primary ng-click="hideGroupEdit = !hideGroupEdit"></div><!--View for Selected Group In Class--><div class=container ng-show=viewGroupInfo><h5>Back to: <a ng-click="toggleClassGroup(\'class\')">Classes</a></h5><nav><h4>What would you like to view in {{currentGroup.groupName}}? &nbsp;&nbsp;&nbsp; <input type=button value="Word Packs" name=groupItem ng-click="viewGroupItems(\'wordPacks\')"> <input type=button value=Words name=groupItem ng-click="viewGroupItems(\'words\')"></h4></nav><nav ng-show=showWordPackSort><h5>How would you like to sort word packs? &nbsp;&nbsp;&nbsp; <input type=button value="Context Packs" name=wordPackOption ng-click="wordPackFilter(\'contextPacks\')"> <input type=button value="All Word Packs" name=wordPackOption ng-click="wordPackFilter(\'all\')"> <input type=button value="Word Packs Not in Context Packs" name=wordPackOption ng-click="wordPackFilter(\'individual\')"></h5></nav><nav ng-show=showWordSort><h5>How would you like to sort words? &nbsp;&nbsp;&nbsp; <input type=button value="All Assigned Words" name=wordOption ng-click="wordFilter(\'all\')"> <input type=button value="Individually Assigned Words" name=wordOption ng-click="wordFilter(\'individual\')"></h5></nav><!--Area to view student list in group--><div class=col-xs-3 ng-show=viewStudents><h3>Students:</h3><div ng-repeat="student in studentsInGroup | orderBy:\'firstName\' "><label>{{student.firstName}} {{student.lastName}}</label></div><label><a class="glyphicon glyphicon-plus" ng-click="toggleStudentInfo(\'add\')"></a> Add Students to {{currentGroup.groupName}}</label><label><a class="glyphicon glyphicon-pencil" ng-click="toggleStudentInfo(\'edit\')"></a> Remove Students from {{currentGroup.groupName}}</label></div><!--Area to add student to list in group--><div class=col-xs-4 ng-show=viewAddStudents><h3>Your Students Not in {{currentGroup.groupName}}:</h3><input ng-model=searchAddStudentsFirst placeholder="Search By First Name"> <input ng-model=searchAddStudentsLast placeholder="Search By Last Name"><ul class="list-group scroll"><li class=list-group-item ng-repeat="studentAdd in studentsNotInGroup | orderBy:\'firstName\' | filter:{firstName:searchAddStudentsFirst}  | filter:{lastName:searchAddStudentsLast}"><label>{{studentAdd.firstName}} {{studentAdd.lastName}}</label><input type=button value=Add style=float:right ng-click="addStudentToGroup(studentAdd, currentGroup)"></li></ul><button class="btn btn-primary" ng-click="toggleStudentInfo(\'off\')">Done Adding Students</button></div><!--Area to edit students in group list--><div class=col-xs-4 ng-show=viewEditStudents><h3>Students in {{currentGroup.groupName}}:</h3><input ng-model=searchEditStudentsFirst placeholder="Search By First Name"> <input ng-model=searchEditStudentsLast placeholder="Search By Last Name"><ul class="list-group scroll"><li class=list-group-item ng-repeat="studentEdit in studentsInGroup | orderBy:\'firstName\' | filter:{firstName:searchEditStudentsFirst}  | filter:{lastName:searchEditStudentsLast}"><label>{{studentEdit.firstName}} {{studentEdit.lastName}}</label><input type=button value=Remove style=float:right ng-click="removeStudentFromGroup(studentEdit, currentGroup)"></li></ul><button class="btn btn-primary" ng-click="toggleStudentInfo(\'off\')">Done Removing Students</button></div><!--Area to view context packs list in group--><div class=col-xs-3 ng-show=viewContextPacks><h3>Context Packs: <button class="btn btn-primary" title="Toggle Word Packs" ng-click="toggleWPinCP(\'toggle\')">{{position}}</button></h3><ul class="list-group scroll"><li class=list-group-item ng-repeat="contextPack in contextPacksHolderGroup | orderBy:\'name\'"><label>{{contextPack.name}}</label><ul class=list-group collapse=wpIsCollapsed><!--This is for already added word packs--><li class=list-group-item ng-repeat="wordPack in getAssignedWordPacks(contextPack.wordPacks) | orderBy:\'name\'"><label><a ng-click="viewWordsInWordPack(wordPack); toggleWordPackAddGroup(\'off\')">{{ wordPack.name | limitTo: 15 }}{{wordPack.name.length > 15 ? \'...\' : \'\'}}</a></label><input type=button value=Remove style="float:right; background: #FF0000" ng-click="removeWordPackFromGroup(wordPack, currentGroup)"></li><!--This is for word packs in context pack, but not assigned.--><li class=list-group-item ng-repeat="wordPack2 in getNotAssignedWordPacks(getAssignedWordPacks(contextPack.wordPacks), contextPack.wordPacks) | orderBy:\'name\'"><label><a ng-click="viewWordsInWordPack(wordPack2); toggleWordPackAddGroup(\'off\')">{{ wordPack2.name | limitTo: 15 }}{{wordPack2.name.length > 15 ? \'...\' : \'\'}}</a></label><input type=button value=Add style="float:right; background: #00FF00" ng-click="addWordPackToGroup(wordPack2, currentGroup, \'all\')"></li></ul></li><label><a class="glyphicon glyphicon-plus" ng-click="toggleWordPackAddGroup(\'context\')"></a> Add Word Pack By Searching Context Packs</label></ul></div><!--Area to view all word packs information--><div class=col-xs-3 ng-show=viewAllWordPacks><h3>All Word Packs:</h3><div ng-repeat="wordPack in allWordPacksInGroup | orderBy:\'name\'"><label><a ng-click="viewWordsInWordPack(wordPack); toggleWordPackAddGroup(\'off\')">{{ wordPack.name | limitTo: 15 }}{{wordPack.name.length > 15 ? \'...\' : \'\'}}</a></label></div><br><label><a class="glyphicon glyphicon-plus" ng-click="toggleWordPackAddGroup(\'all\')"></a> Add Word Pack By Searching All Word Packs</label><label><a class="glyphicon glyphicon-pencil" ng-click="viewEditWordPacks = true"></a> Remove Assigned Word Packs</label></div><!--Area to view non context pack word packs information--><div class=col-xs-3 ng-show=viewIndivWordPacks><h3>Word Packs Not in Context Packs:</h3><div ng-repeat="wordPack in indivWordPacksInGroup | orderBy:\'name\'"><label><a ng-click="viewWordsInWordPack(wordPack); toggleWordPackAddGroup(\'off\')">{{ wordPack.name | limitTo: 15 }}{{wordPack.name.length > 15 ? \'...\' : \'\'}}</a></label></div><label><a class="glyphicon glyphicon-plus" ng-click="toggleWordPackAddGroup(\'indiv\')"></a> Add Word Pack By Searching Word Packs Not in Context Packs</label></div><!--Area for editing assigned word packs to a group--><div class=col-xs-3 ng-show=viewEditWordPacks><h3>Word Packs in {{currentGroup.groupName}}:</h3><ul class="list-group scroll"><li class=list-group-item ng-repeat="wordPackEdit in allWordPacksInGroup | orderBy:\'name\'"><label>{{ wordPackEdit.name | limitTo: 15 }}{{wordPackEdit.name.length > 15 ? \'...\' : \'\'}}</label><input type=button value=Remove style=float:right ng-click="removeWordPackFromGroup(wordPackEdit, currentGroup)"></li></ul><button class="btn btn-primary" ng-click="viewEditWordPacks = false">Done Editing Word Packs</button></div><!--Area to add individual word packs to group --><div class=col-xs-3 ng-show=viewAddWordPacks><div ng-show=viewAddContextWordPacks><h3>Context Packs not in {{currentGroup.groupName}}:</h3><input ng-model=searchAddContextWordPacks placeholder="Search Context Packs"><ul class="list-group scroll"><li class=list-group-item ng-repeat="contextPackAdd in contextPacksHolderNotGroup"><label>{{ contextPackAdd.name | limitTo: 15 }}{{contextPackAdd.name.length > 15 ? \'...\' : \'\'}}</label><ul class=list-group><li class=list-group-item ng-repeat="wordPack in contextPackAdd.wordPacks"><label><a ng-click=viewWordsInWordPack(wordPack)>{{ wordPack.name | limitTo: 15 }}{{wordPack.name.length > 15 ? \'...\' : \'\'}}</a></label><input type=button value=Add style="float:right; background: #00FF00" ng-click="addWordPackToGroup(wordPack, currentGroup, \'context\')"></li></ul></li></ul></div><div ng-show=viewAddAllWordPacks><h3>All Word Packs not in {{currentGroup.groupName}}:</h3><input ng-model=searchAddIndivWordPacks placeholder="Search Word Packs"><ul class="list-group scroll"><li class=list-group-item ng-repeat="wordPackAdd in allWordPacksNotInGroup | orderBy:\'name\' | filter:{name:searchAddIndivWordPacks} "><label><a ng-click=viewWordsInWordPack(wordPackAdd)>{{ wordPackAdd.name | limitTo: 15 }}{{wordPackAdd.name.length > 15 ? \'...\' : \'\'}}</a></label><input type=button value=Add style=float:right ng-click="addWordPackToGroup(wordPackAdd, currentGroup, \'all\')"></li></ul></div><div ng-show=viewAddIndivWordPacks><h3>Non Context Word Packs not in {{currentGroup.groupName}}:</h3><input ng-model=searchAddAllWordPacks placeholder="Search Word Packs"><ul class="list-group scroll"><li class=list-group-item ng-repeat="wordPackAdd in indivWordPacksNotInGroup | orderBy:\'name\' | filter:{name:searchAddAllWordPacks}"><label><a ng-click=viewWordsInWordPack(wordPackAdd)>{{ wordPackAdd.name | limitTo: 15 }}{{wordPackAdd.name.length > 15 ? \'...\' : \'\'}}</a></label><input type=button value=Add style=float:right ng-click="addWordPackToGroup(wordPackAdd, currentGroup, \'indiv\')"></li></ul></div><button class="btn btn-primary" ng-click="toggleWordPackAddGroup(\'off\'); viewWordPackWords = false">Done Adding Word Packs</button></div><!--Area to view word pack words--><div class=col-xs-3 ng-show=viewWordPackWords><h3>Words In {{currentWordPack.name}}:</h3><div ng-repeat="word in wordsInWordPack"><label>{{word.name}}, {{word.wordType}}</label></div></div><!--Area to view words all words in group information--><div class=col-xs-3 ng-show=viewAllWords><h3>Words:</h3><div ng-repeat="word in allWordsInGroup | orderBy:\'name\'"><label>{{word.name}}, {{word.wordType}}</label></div><label><a class=glyphicon-plus ng-click="viewAddWord = true"></a> Add Words to {{currentGroup.groupName}}</label></div><!--Area to view indiv words in group information--><div class=col-xs-3 ng-show=viewIndivWords><h3>Words:</h3><div ng-repeat="word in indivWordsInGroup | orderBy:\'name\'"><label>{{word.name}}, {{word.wordType}}</label></div><label><a class="glyphicon glyphicon-plus" ng-click="viewAddWord = true"></a> Add Words to {{currentGroup.groupName}}</label><label><a class="glyphicon glyphicon-pencil" ng-click="viewEditWord = true"></a> Remove Assigned Word Packs</label></div><!--Area to add words to group --><div class=col-xs-3 ng-show=viewAddWord><h3>Words not in {{currentGroup.groupName}}:</h3><input ng-model=searchAddWords placeholder="Search Words"> <input ng-model=searchAddWordsType placeholder="Search By Word Type"><ul class="list-group scroll"><li class=list-group-item ng-repeat="wordAdd in allWordsNotInGroup | orderBy:\'name\' | filter:{name:searchAddWords} | filter:{wordType:searchAddWordsType}"><label>{{wordAdd.name}}, {{wordAdd.wordType}}</label><input type=button value=Add style=float:right ng-click="addWordToGroup(wordAdd, currentGroup)"></li></ul><button class="btn btn-primary" ng-click="viewAddWord = false">Done Adding Words</button></div><!--Area to remove words from a group --><div class=col-xs-3 ng-show=viewEditWord><h3>Individually Assigned Words in {{currentGroup.groupName}}:</h3><input ng-model=searchEditWords placeholder="Search Words"> <input ng-model=searchEditWordsType placeholder="Search By Word Type"><ul class="list-group scroll"><li class=list-group-item ng-repeat="wordEdit in indivWordsInGroup | orderBy:\'name\' | filter:{name:searchEditWords} | filter:{wordType:searchEditWordsType}"><label>{{wordEdit.name}}, {{wordEdit.wordType}}</label><input type=button value=Remove style=float:right ng-click="removeWordFromGroup(wordEdit, currentGroup)"></li></ul><button class="btn btn-primary" ng-click="viewEditWord = false">Done Adding Words</button></div></div></div>'),
a.put("app/myStudents/myStudents.html",'<div class=container ng-controller=MyStudentsCtrl><div ng-include="\'components/navbar/navbar.html\'"></div><br><br><h1>My Students</h1><div class=col-xs-4><h1>Your {{myStudents.length}} Students:</h1><br><!--List of current groups with edit and remove options--><input ng-model=searchFirst placeholder="Search by First Name"> <input ng-model=searchLast placeholder="Search by Last Name"><p><br><label>Can\'t find someone?</label><button class="btn btn-primary" ng-click="toggleAddStudent(\'on\')">Add A Student</button></p><ul class="list-group scroll"><li class=list-group-item ng-repeat="student in myStudents | orderBy: \'firstName\' | filter:{firstName: searchFirst} | filter:{lastName: searchLast}"><label><a href="" ng-click=viewStudentInformation(student)>{{student.firstName}} {{student.lastName}}</a></label><input type=button value=edit style=float:right ng-click="toggleEditStudent(\'on\'); toggleCurrentEditStudent(student)"></li></ul></div><!--Add a new student--><div class=col-xs-4 ng-show=viewAddStudent><h1>Add Student:</h1><br><form ng-submit=addStudent()><input ng-model=firstname size=15 placeholder="First Name"> <input ng-model=lastname size=15 placeholder="Last Name"> <input type=submit value=Submit class="btn btn-primary"></form><button class="btn btn-primary" ng-click="toggleAddStudent(\'off\'); firstname = \'\'; lastname = \'\'">Done</button></div><!--Edit student--><div class=col-xs-4 ng-show=viewEditStudent><h1>Edit {{currentEditStudent.firstName}} {{currentEditStudent.lastName}}:</h1><br><form ng-submit=editStudent(currentEditStudent)><input ng-model=editfirstname size=15 placeholder="First Name"> <input ng-model=editlastname size=15 placeholder="Last Name"> <input type=submit value=Submit class="btn btn-primary"></form><button class="btn btn-primary" ng-click="toggleEditStudent(\'off\')">Done</button></div><!--View a student--><div class=col-xs-4 ng-show=viewStudentInfo><h1>{{currentStudent.firstName}} {{currentStudent.lastName}}\'s</h1><h3><a ng-click="toggleStudentInfo(\'classes\'); getStudentClasses()">Classes</a></h3><h3>Individually Assigned:</h3><h4><a ng-click="toggleStudentInfo(\'context\'); getStudentContextPacks()">Context Packs</a></h4><h4><a ng-click="toggleStudentInfo(\'wordPacks\'); getStudentWordPacks()">Word Packs</a></h4><h4><a ng-click="toggleStudentInfo(\'words\'); getStudentWords()">Words</a></h4></div><!--View a student--><div class=col-xs-4 ng-show=viewStudentInfoItem><div ng-show=viewStudentClasses><h1>Classes</h1><ul class="list-group scroll"><li class=list-group-item ng-repeat="class in studentClasses | orderBy: \'className\'"><label>{{class.className}}</label><ul class=list-group><li class=list-group-item ng-repeat="group in class.groupList | orderBy: \'groupName\'"><label>{{group.groupName}}</label></li></ul></li></ul></div><div ng-show=viewStudentContext><h1>Context Packs</h1><ul class="list-group scroll"><li class=list-group-item ng-repeat="contextPack in studentContextPacks | orderBy: \'name\'"><label>{{contextPack.name}}</label><ul class=list-group><li class=list-group-item ng-repeat="wordPack in contextPack.wordPacks | orderBy: \'name\'"><label>{{wordPack.name}}</label></li></ul></li></ul></div><div ng-show=viewStudentWordPacks><h1>Word Packs</h1><ul class="list-group scroll"><li class=list-group-item ng-repeat="wordPack in studentWordPacks | orderBy: \'name\'"><label>{{wordPack.name}}</label></li></ul></div><div ng-show=viewStudentWords><h1>Words</h1><ul class="list-group scroll"><li class=list-group-item ng-repeat="word in studentWords | orderBy: \'name\'"><label>{{word.name}}</label></li></ul></div></div></div>'),a.put("app/myWordPacks/myWordPacks.html",'<div ng-controller=MyWordPacksCtrl><div ng-include="\'components/navbar/navbar.html\'"></div><div class=container><br><br><h1>My Word Packs</h1><nav><h3>What would like to view? <input type=button name=wordPackOption value="Context Packs" ng-click="toggleView(\'context\')"> <input type=button name=wordPackOption value="All Word Packs" ng-click="toggleView(\'all\')"> <input type=button name=wordPackOption value="Word Packs Not in Context Packs" ng-click="toggleView(\'indiv\')"></h3></nav><!--For viewing context packs--><div class=col-xs-3 ng-show=viewMyContextPacks><h3>My Context Packs <a class="glyphicon glyphicon-plus" ng-click=newContextPack()></a></h3><input ng-model=searchContext placeholder="Search Context Packs"><ul class="list-group scroll"><li class=list-group-item ng-repeat="contextPack in contextPacksArray | orderBy:\'name\' | filter:{name:searchContext}"><label>{{contextPack.name}}</label><a class="glyphicon glyphicon-pencil" ng-click=editContextName(contextPack)></a> <a class="glyphicon glyphicon-trash" style=float:right ng-click=removeContextPack(contextPack)></a><ul class=list-group><li class=list-group-item ng-repeat="wordPack in getWordPacksForContextPack(contextPack) | orderBy:\'name\'"><label><a ng-click=viewWordsInWordPack(wordPack)>{{ wordPack.name | limitTo: 18 }}{{wordPack.name.length > 18 ? \'...\' : \'\'}}</a></label><a class="glyphicon glyphicon-trash" style=float:right ng-click="removeWordPackFromContextPack(contextPack, wordPack)"></a> <a class="glyphicon glyphicon-pencil" style=float:right ng-click=editWordPackName(wordPack)></a></li></ul><!--<button class="btn-primary" ng-click="addWordPackOptions(\'context\')">Add Word Pack</button>--><button class=btn-primary ng-click=addWordPack(contextPack)>Add Word Pack</button> <button class=btn-success ng-click=newWordPack(contextPack)><a class="glyphicon glyphicon-plus"></a> New Pack</button></li></ul></div><!--For viewing all word packs--><div class=col-xs-3 ng-show=viewAllOfMyWordPacks><h3>All of My Word Packs</h3><input ng-model=searchAllWordPacks placeholder="Search Word Packs"><ul class="list-group scroll"><li class=list-group-item ng-repeat="wordPack in wordPacksArray | orderBy:\'name\' | filter:{name:searchAllWordPacks}"><label><a ng-click=viewWordsInWordPack(wordPack)>{{ wordPack.name | limitTo: 20 }}{{wordPack.name.length > 20 ? \'...\' : \'\'}}</a></label><a class="glyphicon glyphicon-pencil" style=float:right ng-click=editWordPackName(wordPack)></a></li></ul><button class="btn btn-success" ng-click=newWordPack()><a class="glyphicon glyphicon-plus" ng-click=newWordPack()></a> Create New Word Pack</button></div><!--For viewing word packs not in context packs--><div class=col-xs-3 ng-show=viewMyNonContextWordPacks><h3>My Word Packs Not in Context Packs</h3><input ng-model=searchWordPacksNotContext placeholder="Search Word Packs"><ul class="list-group scroll"><li class=list-group-item ng-repeat="wordPack in wordPacksNonContextHolder | orderBy:\'name\' | filter:{name: searchWordPacksNotContext}"><label><a ng-click=viewWordsInWordPack(wordPack)>{{ wordPack.name | limitTo: 20 }}{{wordPack.name.length > 20 ? \'...\' : \'\'}}</a></label><a class="glyphicon glyphicon-trash" style=float:right ng-click=removeWordPack(wordPack)></a> <a class="glyphicon glyphicon-pencil" style=float:right ng-click=editWordPackName(wordPack)></a></li></ul><button class="btn btn-success" ng-click=newWordPack()><a class="glyphicon glyphicon-plus" ng-click=newWordPack()></a> Create New Word Pack</button></div><!--This would be a good spot for the buttons to add existing, new, or sharable wordpacks/contextpacks--><div class=col-xs-3 ng-show=viewAddWordPackOptions><h3>Would you like to:</h3><button class="btn btn-primary" ng-click="">Search Public Context Packs</button><br><br><button class="btn btn-primary" ng-click="">Search Public Word Packs</button><br><br><button class="btn btn-primary" ng-click="">Search Your Word Packs</button><br><br><button class="btn btn-success" ng-click=""><a class="glyphicon glyphicon-plus"></a> Add New Word Pack</button></div><!--For editing a context pack name--><div class=col-xs-3 ng-show=viewEditContextName><h3>Edit {{contextToEditName}}</h3><input ng-model=editContextNameField size=15 placeholder={{contextToEditName}}> <input type=submit value="Edit Context Pack Name" class=btn-primary ng-click=updateContextName()> <input type=submit value=Cancel class=btn-primary ng-click="viewEditContextName = false; editContextNameField =\'\'"></div><!--For creating a new context pack --><div class=col-xs-3 ng-show=viewCreateContextPack><h3>New Context Pack</h3><input ng-model=createContextPackNameField size=15 placeholder="Name of Context Pack"> <input type=submit value="Add New Context Pack" class=btn-primary ng-click=createContextPack()> <input type=submit value=Cancel class=btn-primary ng-click="viewCreateContextPack = false; createContextPackNameField =\'\'"></div><!--For editing a word pack name--><div class=col-xs-3 ng-show=viewEditWordPackName><h3>Edit {{wordPackToEditName}}</h3><input ng-model=editWordPackNameField size=15 placeholder={{wordPackToEditName}}> <input type=submit value="Edit Word Pack Name" class=btn-primary ng-click=updateWordPackName()> <input type=submit value=Cancel class=btn-primary ng-click="viewEditWordPackName = false; editWordPackNameField = \'\'"></div><!--For creating a new word pack --><div class=col-xs-3 ng-show=viewCreateWordPack><div ng-hide=createWordPackForContext><h3>New Word Pack</h3></div><div ng-show=createWordPackForContext><h3>New Word Pack for {{currentContextPack.name}}</h3></div><input ng-model=createWordPackNameField size=15 placeholder="Name of Word Pack"> <input type=submit value="Add New Word Pack" class=btn-primary ng-click=createWordPack()> <input type=submit value=Cancel class=btn-primary ng-click="viewCreateWordPack = false; createWordPackNameField = \'\'"></div><!--For adding a existing word pack to a context pack --><div class=col-xs-3 ng-show=viewAddWordPack><h3>Existing Word Packs to add to {{currentContextPack.name}}</h3><input ng-model=searchExistingWordPacks placeholder="Search Word Packs"><ul class="list-group scroll"><li class=list-group-item ng-repeat="wordPack in wordPacksNonContextHolder | orderBy:\'name\' | filter:{name:searchExistingWordPacks}"><label><a ng-click=viewWordsInWordPack(wordPack)>{{ wordPack.name | limitTo: 15 }}{{wordPack.name.length > 15 ? \'...\' : \'\'}}</a></label><input type=button value=Add style=float:right ng-click="addWordPackToContextPack(currentContextPack._id, wordPack)"></li><br><button class="btn btn-primary" ng-click="viewAddWordPack = false; searchExistingWordPacks = \'\'">Done</button></ul></div><!--For viewing words in a word pack--><div class=col-xs-3 ng-show=viewWordPackWords><h3>Words in {{currentWordPack.name}}</h3><input ng-model=searchWords placeholder="Search By Word"><select ng-model=searchWordTypes><option ng-repeat="option in typeOptions" ng-value="\'{{option}}\'">{{option}}</option></select><ul class="list-group scroll"><li class=list-group-item ng-repeat="word in wordsInWordPack | orderBy:\'name\' | filter:{name:searchWords} | filter:{wordType:searchWordTypes}"><label>{{ word.name | limitTo: 20 }}{{word.name.length > 20 ? \'...\' : \'\'}}, {{word.wordType}}</label><a class="glyphicon glyphicon-trash" style=float:right ng-click=removeWordFromWordPack(word)></a></li><br><button class="btn btn-success" ng-click=addWords()><a class="glyphicon glyphicon-plus"></a> Add Words to {{currentWordPack.name}}</button> <button class="btn btn-primary" ng-click="viewWordPackWords = false; searchWords = \'\'; searchWordTypes = \'\'; viewAddWordsToWordPacks = false">Done</button></ul></div><!--For adding words not current in word pack--><div class=col-xs-3 ng-show=viewAddWordsToWordPacks><h3>Words not in {{currentWordPack.name}}</h3><input ng-model=searchNotWords placeholder="Search By Word"><select ng-model=searchNotWordTypes><option ng-repeat="option in typeOptions" ng-value="\'{{option}}\'">{{option}}</option></select><ul class="list-group scroll"><li class=list-group-item ng-repeat="word in wordsNotInWordPack | orderBy:\'name\' | filter:{name:searchNotWords} | filter:{wordType:searchNotWordTypes}"><label>{{ word.name | limitTo: 20 }}{{word.name.length > 20 ? \'...\' : \'\'}}, {{word.wordType}}</label><input type=button value=Add style=float:right ng-click=addWordsToWordPack(word)></li></ul><button class="btn btn-primary" ng-click="viewAddWordsToWordPacks = false; searchNotWords=\'\'; searchNotWordTypes = \'\'">Done</button></div></div></div>'),a.put("app/myWords/myWords.html",'<div class=container ng-controller=MyWordsCtrl><div ng-include="\'components/navbar/navbar.html\'"></div><br><br><h1>My Words</h1><!--Displaying words user has added--><div class=col-sm-6><h2>The {{userWords.length}} Words You\'ve Added:</h2><!--Search option for words--><div class=col-xs-6><input ng-model=searchUserWords placeholder="Search My Words"><select ng-model=searchUserWordTypes><option ng-repeat="option in typeOptions" ng-value="\'{{option}}\'">{{option}}</option></select><br>Can\'t find the word you\'re looking for?<br><button class="btn btn-success" ng-click="viewAddWords = true"><a class="glyphicon glyphicon-plus"></a> Add Words</button></div><!--Adding options for new word--><div class=col-xs-6 ng-show=viewAddWords><input ng-model=addField size=15 placeholder="New Word"><select ng-model=addType><option ng-repeat="option in typeOptions" ng-value="\'{{option}}\'">{{option}}</option></select><button class="btn btn-success" ng-click=addNewWord()><a class="glyphicon glyphicon-plus"></a> Add Word</button> <input type=submit value=Cancel class="btn btn-primary" ng-click="viewAddWords = false; addField = \'\'"></div><!--Editing options for selected word--><div class=col-xs-6 ng-show=viewEditWords><input ng-model=editField size=15 placeholder={{currentWord.name}}><!--Currently: {{userAllWords[editWordIndex].wordType}}--><select ng-model=editType><option ng-repeat="option in typeOptions" ng-value="\'{{option}}\'">{{option}}</option></select><input type=submit value=Edit class="btn btn-primary" ng-click=updateWord()> <input type=submit value=Cancel class="btn btn-primary" ng-click="viewEditWords = false; editField = \'\'"></div><!--TODO: Something is up with the alignment here, may have been caused when adjusting banner.--><br><br><br><br><br><br><ul class="list-group scroll"><li class=list-group-item ng-repeat="word in userWords | orderBy:\'name\' | filter:{name:searchUserWords} | filter:{wordType:searchUserWordTypes}"><label>{{word.name}}, {{word.wordType}}</label><a class="glyphicon glyphicon-pencil" ng-click=editWord(word)></a> <a class="glyphicon glyphicon-trash close" ng-click=deleteWord(word)></a></li></ul></div><!--Displaying all words in server--><div class=col-sm-6><h2>All Dictionary {{userAllWords.length}} Words:</h2><h9>Note: This does not include words you\'ve added</h9><br><br><input ng-model=searchAllWords placeholder="Search All Words"><br><select ng-model=searchAllWordTypes><option ng-repeat="option in typeOptions" ng-value="\'{{option}}\'">{{option}}</option></select><ul class="list-group scroll"><p><li class=list-group-item ng-repeat="word in userAllWords | orderBy:\'name\' | filter:{name:searchAllWords} | filter:{wordType:searchAllWordTypes}"><label>{{word.name}}, {{word.wordType}}</label></li></p></ul></div></div>'),a.put("components/modal/modal.html",'<div class=modal-header><button ng-if=modal.dismissable type=button ng-click=$dismiss() class=close>&times;</button><h4 ng-if=modal.title ng-bind=modal.title class=modal-title></h4></div><div class=modal-body><p ng-if=modal.text ng-bind=modal.text></p><div ng-if=modal.html ng-bind-html=modal.html></div></div><div class=modal-footer><button ng-repeat="button in modal.buttons" ng-class=button.classes ng-click=button.click($event) ng-bind=button.text class=btn></button></div>'),a.put("components/navbar/navbar.html",'<div class="navbar navbar-default navbar-static-top" ng-controller=NavbarCtrl><div class=container><div class=navbar-header><button class=navbar-toggle type=button ng-click="isCollapsed = !isCollapsed"><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a ng-click=goHome() href="/"><img class=resizeNav src=assets/images/4ee87f07.WordRiverLogo.png alt=Home></a></div><div collapse=isCollapsed class="navbar-collapse collapse" id=navbar-main><ul class="nav navbar-nav"><li class=font-size ng-repeat="item in menu" ng-class="{active: isActive(item.link)}"><a ng-click=goHome() ng-href={{item.link}}>{{item.title}}</a></li><li ng-show=isAdmin() ng-class="{active: isActive(\'/admin\')}"><a href=/admin>Admin</a></li></ul><ul class="nav navbar-nav navbar-left"><li class=font-size ng-show=isLoggedIn() ng-class="{active: isActive(\'/myClasses\')}"><a href=/myClasses>My Classes</a></li><li class=font-size ng-show=isLoggedIn() ng-class="{active: isActive(\'/myStudents\')}"><a href=/myStudents>My Students</a></li><li class=font-size ng-show=isLoggedIn() ng-class="{active: isActive(\'/myWordPacks\')}"><a href=/myWordPacks>My Word Packs</a></li><li class=font-size ng-show=isLoggedIn() ng-class="{active: isActive(\'/myWords\')}"><a href=/myWords>My Words</a></li></ul><ul class="nav navbar-nav navbar-right font-size"><li ng-show=isLoggedIn()><p class=navbar-text>Hello {{ getCurrentUser().name }}</p></li><li ng-show=isLoggedIn() ng-class="{active: isActive(\'/settings\')}"><a ng-click=changePassword() href="/"><span class="glyphicon glyphicon-cog"></span></a></li><li ng-show=isLoggedIn() ng-class="{active: isActive(\'/logout\')}"><a href="" ng-click=logout()>Logout</a></li></ul></div></div></div>')}]);